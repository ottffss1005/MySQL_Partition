#  ìŠ¤í¬í‹°íŒŒì´ íŠ¸ë™ ë°ì´í„°ë¥¼ í™œìš©í•œ Partition Project

<br>

### ğŸ‘¥ Team Members
| ê°•í•œì†” | ì´ì •ì´ | ì„ì±„ì¤€ | ìµœì†Œì˜ |
| :---: | :---: | :---: | :---: |
| [<img width="160px" src="https://github.com/kkangsol.png" />](https://github.com/kkangsol) | [<img width="160px" src="https://github.com/2jeong2.png" />](https://github.com/2jeong2) | [<img width="160px" src="https://github.com/dlacowns21.png" />](https://github.com/dlacowns21) | [<img width="160px" src="https://github.com/ottffss1005.png" />](https://github.com/ottffss1005) |
| [@kkangsol](https://github.com/kkangsol) | [@2jeong2](https://github.com/2jeong2) | [@dlacowns21](https://github.com/dlacowns21) | [@ottffss1005](https://github.com/ottffss1005) |

<br>

# âš“ ë°©í–¥ì„± ì„¤ì •
 ### â“ íŒŒí‹°ì…˜ì´ë€ <br>
  ë…¼ë¦¬ì ìœ¼ë¡œ í•˜ë‚˜ì˜ í…Œì´ë¸”ì´ì§€ë§Œ<br>
  ë¬¼ë¦¬ì ìœ¼ë¡œëŠ” ì—¬ëŸ¬ê°œì˜ íŒŒí‹°ì…˜ìœ¼ë¡œ ë‚˜ë‰˜ì–´ ë°ì´í„°ë“¤ì´ ê°ê°ì˜ ì„¸ê·¸ë¨¼íŠ¸ì— ì €ì¥ë˜ëŠ” í…Œì´ë¸”<br>
  
**íŒŒí‹°ì…”ë‹ì˜ ê°œë…ì„ ì´ë¡ ì—ë§Œ ê·¸ì¹˜ì§€ ì•Šê³ , ì‹¤ì œ ì„±ëŠ¥ì— ë¯¸ì¹˜ëŠ” íš¨ê³¼ë¥¼ ì •ëŸ‰ì ìœ¼ë¡œ ë¶„ì„í•˜ê³ ì í•˜ì˜€ìŠµë‹ˆë‹¤.** <br>
**ë‚˜ì•„ê°€ ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ í™•ì¥ ê¸°ë²•ì„ ì ìš©í•˜ë©°, íŒŒí‹°ì…˜ ì„¤ê³„ì˜ ì „ëµì  í™œìš© ê°€ëŠ¥ì„±ì„ ì‹¤ë¬´ ê´€ì ì—ì„œ ëª¨ìƒ‰í•˜ì˜€ìŠµë‹ˆë‹¤.**
<br> <br>

# ğŸ¯ í”„ë¡œì íŠ¸ ëª©í‘œ
<br>

íŒŒí‹°ì…˜ì€ ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ í™˜ê²½ì—ì„œ **ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ í•µì‹¬ ì „ëµ**ìœ¼ë¡œ ì‘ìš©í•©ë‹ˆë‹¤. <br>
<br>
ë³¸ í”„ë¡œì íŠ¸ì—ì„œëŠ” **ì™¸ë¶€ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ íŒŒí‹°ì…˜ì„ ì„¤ê³„**í•˜ê³  ì¿¼ë¦¬ ì„±ëŠ¥ ê°œì„ ì„ ëª©ì ìœ¼ë¡œ **ì¸ë±ìŠ¤ ì „ëµì„ ë³‘í–‰ ì ìš©**í–ˆìŠµë‹ˆë‹¤. <br>
<br>
ì´ë¥¼ í†µí•´ **ë°ì´í„° ì•¡ì„¸ìŠ¤ ë²”ìœ„ ì¶•ì†Œ ë° íŒŒí‹°ì…˜ í”„ë£¨ë‹ íš¨ê³¼ë¥¼ ì§ì ‘ ê²€ì¦**í•˜ë©° íŒŒí‹°ì…˜ì´ ì‹¤ì§ˆì ìœ¼ë¡œ ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ì²´ê³„ì ìœ¼ë¡œ ë¶„ì„í•˜ì˜€ìŠµë‹ˆë‹¤.

<br>

---

## ğŸ“ í”„ë¡œì íŠ¸ ê°œìš”

| êµ¬ë¶„ | ë‚´ìš© |
|------|------|
| ë°ì´í„°ì…‹ | Kaggle - Spotify Tracks Attributes and Popularity |
| ë°ì´í„° ì¶œì²˜ | https://www.kaggle.com/datasets/melissamonfared/spotify-tracks-attributes-and-popularity |
| DB | MySQL (DBeaver) |
| í…Œì´ë¸” ê·œëª¨ | ì•½ 11ë§Œ 4ì²œ ê±´ |

<br>

---


## ğŸ“‚ ëª©ì°¨

1. [ğŸ“Š ë°ì´í„° ì„ ì • ë° ë¶„ì„](#-ë°ì´í„°-ì„ ì •-ë°-ë¶„ì„)
2. [âš™ï¸ íŒŒí‹°ì…˜ ì‹¤í–‰](#ï¸-íŒŒí‹°ì…˜-ì‹¤í–‰)
3. [ğŸš€ í™•ì¥ ê°œë… - ì¸ë±ìŠ¤](#-í™•ì¥-ê°œë…---ì¸ë±ìŠ¤)
4. [ğŸ§¨ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…](#-íŠ¸ëŸ¬ë¸”ìŠˆíŒ…)
5. [ğŸª íšŒê³  ë° ë””ë²¨ë¡­ ë°©í–¥](#-íšŒê³ -ë°-ë””ë²¨ë¡­-ë°©í–¥)

---


## ğŸ“Š ë°ì´í„° ì„ ì • ë° ë¶„ì„

### 1. ë°ì´í„° ì„ ì • ê³¼ì •
<br>

<details>
 
<summary><strong> ğŸ“ë°ì´í„° ì„ ì • ê¸°ì¤€</strong></summary>
  <br>
  
  - **ë°ì´í„° í¬ê¸°**   <br>
  ì„±ëŠ¥ ì‹¤í—˜ì— ìœ ì˜ë¯¸í•œ ìˆ˜ì¤€ì˜ ë°ì´í„°ëŸ‰ì„ ê°–ì¶˜ ë°ì´í„°ì…‹ ì‚¬ìš©
  <br>
  
  - **ì •ì œëœ ë°ì´í„°**   <br>
  ì „ì²˜ë¦¬ ë¶€ë‹´ì´ ì ì€ ì •ì œëœ ë°ì´í„°ì…‹ì„ ì‚¬ìš©í•˜ì—¬ íŒŒí‹°ì…˜ ê³¼ì •ì— ì§‘ì¤‘í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±
  <br>
  
  - **ë‹¤ì–‘í•œ ì»¬ëŸ¼ ìˆ˜**   <br>
    íŒŒí‹°ì…˜ ê¸°ì¤€ì„ ìœ ì—°í•˜ê²Œ ì„¤ê³„í•˜ê³  ë‹¤ì–‘í•œ ë°©ì‹ì˜ ì‹¤í—˜ ë° ìµœì í™”ê°€ ê°€ëŠ¥í•˜ë„ë¡ êµ¬ì„±
  <br>
  
  - **ë‹¤ì–‘í•œ ë°ì´í„° íƒ€ì…**   <br>
    RANGE / LIST / HASH ë“± ë‹¤ì–‘í•œ íŒŒí‹°ì…”ë‹ ì „ëµì„ ì‹¤ìŠµí•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±
  <br>
</details>
  
  <br>
  
<details>
 
<summary><strong> ğŸ“ë°ì´í„° ë ˆí¼ëŸ°ìŠ¤ ì‚¬ì´íŠ¸</strong></summary>
  <br>
  
  - **Kaggle** <br>
    https://www.kaggle.com/datasets
  
  - **ê¸ˆìœµê°ë…ì› - ê¸ˆìœµìƒí’ˆí•œëˆˆì—** <br>
    https://finlife.fss.or.kr/finlife/api/fncCoApi/list.do?menuNo=700051
     
  - **ë°ì´í„°í—ˆë¸Œ** <br>
    https://datahub.io/

  - **UCL Machine Lerning Repository** <br>
    https://archive.ics.uci.edu/

  - **ê³µê³µ ë°ì´í„° í¬í„¸** <br>
    https://www.data.go.kr/

 </details>
  <br>
  
<details>
<summary><strong> ğŸ“ë°ì´í„° ì„ ì • </strong></summary>
  <br>
  
  - **Kaggle - Spotify Tracks Attributes and Popularity** <br>
    https://www.kaggle.com/datasets/melissamonfared/spotify-tracks-attributes-and-popularity
 
 </details>
 
<br><br>
### 2. ë°ì´í„° ë¶„ì„

- ğŸ—’ï¸ ì£¼ìš” ì»¬ëŸ¼ ë¶„ì„
  
<img width="623" height="592" alt="ìŠ¤í¬ë¦°ìƒ· 2025-07-12 150548" src="https://github.com/user-attachments/assets/ec86dad2-b03d-493d-87b6-f2e58f2f8bdd" />



### 3. ë°ì´í„° ì„í¬íŠ¸



#### ë°©ë²• 1 : CREATE TABLE â†’ CSV import [ì •ì„]

<details>
   <summary><strong>  ğŸ“ TABLE ìƒì„± ì½”ë“œ</strong></summary>

  <pre><code>
  CREATE TABLE spotify_songs (
  id INT,
  track_id VARCHAR(22),
  artists VARCHAR(600),
  album_name VARCHAR(300),
  track_name VARCHAR(600),
  popularity INT,
  duration_ms INT,
  explicit TINYINT(1) CHECK (explicit IN (0, 1)),  -- BOOLEANë„ ê°€ëŠ¥
  danceability FLOAT,
  energy FLOAT,
  key_col INT,
  loudness FLOAT,
  mode_col INT,
  speechiness FLOAT,
  acousticness FLOAT,
  instrumentalness FLOAT,
  liveness FLOAT,
  valence FLOAT,
  tempo FLOAT,
  time_signature INT,
  track_genre VARCHAR(50)
);
  </code></pre>

</details>
<br>

- ë°ì´í„° íƒ€ì…ê³¼ ì œì•½ì¡°ê±´ì„ ëª…í™•íˆ ì •ì˜í•  ìˆ˜ ìˆì–´ <strong>ìŠ¤í‚¤ë§ˆ ì¼ê´€ì„±ê³¼ ë¬´ê²°ì„±</strong>ì„ í™•ë³´í•  ìˆ˜ ìˆìŒ
<br><br>
- ì˜ˆì•½ì–´ ë° ì»¬ëŸ¼ëª… ì¶©ëŒì„ ì‚¬ì „ì— ë°©ì§€í•  ìˆ˜ ìˆì–´ <strong>ì´ì‹ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±</strong>ì´ í–¥ìƒë¨
<br><br>
- Import ê³¼ì •ì—ì„œ ì˜¤ë¥˜ ë°œìƒ ì‹œ <strong>ë¬¸ì œì˜ ì›ì¸ ì¶”ì  ë° í•´ê²°</strong>í•  ìˆ˜ ìˆìŒ
<br><br>
- ì‹¤ë¬´ í™˜ê²½ì—ì„œëŠ” ìŠ¤í‚¤ë§ˆ ì„¤ê³„ì™€ ë°ì´í„° ì ì¬ í”„ë¡œì„¸ìŠ¤ë¥¼ <strong>ëª…í™•íˆ ë¶„ë¦¬</strong>í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì 
<br>
<br>

#### ë°©ë²• 2 : DBeaver ìë™ í…Œì´ë¸” ìƒì„±

- ì œì•½ì¡°ê±´ì„ ì„¤ì •í•  ìˆ˜ ì—†ì–´, <strong>ë°ì´í„°ì˜ ì •í•©ì„±ê³¼ ë¬´ê²°ì„±ì„ ë³´ì¥í•˜ê¸° ì–´ë ¤ì›€</strong>
<br><br>
- ë°ì´í„° ì„¤ê³„ì™€ ì ì¬ê°€ ë¶„ë¦¬ë˜ì§€ ì•Šìœ¼ë©´ <strong>ë°ì´í„° í’ˆì§ˆ ì €í•˜, ìœ ì§€ë³´ìˆ˜ì˜ ë³µì¡ì„± ì¦ê°€, ì‹œìŠ¤í…œ ì•ˆì •ì„± ì €í•˜</strong> ë“±ì˜ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ
<br><br>


---

## âš™ï¸ íŒŒí‹°ì…˜ ì‹¤í–‰

## â­ë‹¨ì¼ íŒŒí‹°ì…˜ 1 - RANGE íŒŒí‹°ì…˜(popularity)

<details>
<summary>ğŸ“ SQL ì½”ë“œ ë³´ê¸°</summary>

```sql
-- 1. ê¸°ì¡´ í…Œì´ë¸” ì‚­ì œ
DROP TABLE IF EXISTS spotify;

-- 2. ì›ë³¸ í…Œì´ë¸” ìƒì„±
CREATE TABLE spotify (
  id INT,
  track_id VARCHAR(22),
  artists VARCHAR(600),
  album_name VARCHAR(300),
  track_name VARCHAR(600),
  popularity INT,
  duration_ms INT,
  explicit TINYINT(1),
  danceability FLOAT,
  energy FLOAT,
  key_col INT,
  loudness FLOAT,
  mode_col INT,
  speechiness FLOAT,
  acousticness FLOAT,
  instrumentalness FLOAT,
  liveness FLOAT,
  valence FLOAT,
  tempo FLOAT,
  time_signature INT,
  track_genre VARCHAR(50)
);

-- 3. Range Partition í…Œì´ë¸” ìƒì„±
CREATE TABLE spotify_partitioned (
  id INT,
  track_id VARCHAR(22),
  artists VARCHAR(600),
  album_name VARCHAR(300),
  track_name VARCHAR(600),
  popularity INT,
  duration_ms INT,
  explicit TINYINT(1),
  danceability FLOAT,
  energy FLOAT,
  key_col INT,
  loudness FLOAT,
  mode_col INT,
  speechiness FLOAT,
  acousticness FLOAT,
  instrumentalness FLOAT,
  liveness FLOAT,
  valence FLOAT,
  tempo FLOAT,
  time_signature INT,
  track_genre VARCHAR(50),
  PRIMARY KEY (id, popularity)
)
PARTITION BY RANGE (popularity) (
  PARTITION p_0_20    VALUES LESS THAN (21),
  PARTITION p_21_40   VALUES LESS THAN (41),
  PARTITION p_41_60   VALUES LESS THAN (61),
  PARTITION p_61_80   VALUES LESS THAN (81),
  PARTITION p_81_100  VALUES LESS THAN (101),
  PARTITION p_max     VALUES LESS THAN MAXVALUE
);

-- 4. ë°ì´í„° ì‚½ì…
INSERT INTO spotify_partitioned
SELECT * FROM spotify;
```

</details>

#### ğŸ¯ ë°ì´í„° íŒŒí‹°ì…”ë‹ ì „ëµ

- ê³¡ì˜ `popularity`(ì¸ê¸°ë„) ì»¬ëŸ¼ì„ ê¸°ì¤€ìœ¼ë¡œ **Range íŒŒí‹°ì…”ë‹**ì„ ì ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.
<br>

#### ğŸ’¡ íŒŒí‹°ì…”ë‹ ëª©ì 

- ì¸ê¸°ë„ êµ¬ê°„(0~100)ì„ ê¸°ì¤€ìœ¼ë¡œ ê³¡ ë°ì´í„°ë¥¼ ë…¼ë¦¬ì ìœ¼ë¡œ ë¶„í• í•˜ì—¬, **ë¶„ì„ ì¿¼ë¦¬ì˜ ì„±ëŠ¥ í–¥ìƒ**ì„ ë„ëª¨í•©ë‹ˆë‹¤. <br>
- íŠ¹íˆ **íŠ¹ì • ì¸ê¸° êµ¬ê°„ì— ëŒ€í•œ ë¹ˆë²ˆí•œ ì¡°íšŒ/í†µê³„/í•„í„°ë§ ì‘ì—…**ì´ ì˜ˆìƒë˜ì–´, `popularity` ê¸°ì¤€ì˜ íŒŒí‹°ì…˜ì´ íš¨ìœ¨ì ì´ë¼ê³  íŒë‹¨í•˜ì˜€ìŠµë‹ˆë‹¤.
<br>

### ğŸ§± íŒŒí‹°ì…˜ êµ¬ì„± ë°©ì‹

| íŒŒí‹°ì…˜ ì´ë¦„   | í¬í•¨ êµ¬ê°„ (popularity ê°’) | ì„¤ëª… |
|----------------|-----------------------------|------|
| `p_0_20`       | 0 ì´ìƒ 21 ë¯¸ë§Œ               | ë‚®ì€ ì¸ê¸°ë„ ê³¡ |
| `p_21_40`      | 21 ì´ìƒ 41 ë¯¸ë§Œ             | ë‚®ì€ ì¤‘ê°„ |
| `p_41_60`      | 41 ì´ìƒ 61 ë¯¸ë§Œ             | í‰ê·  ìˆ˜ì¤€ |
| `p_61_80`      | 61 ì´ìƒ 81 ë¯¸ë§Œ             | ì¤‘ìƒìœ„ ê³¡ |
| `p_81_100`     | 81 ì´ìƒ 101 ë¯¸ë§Œ            | ì¸ê¸° ê³¡ |
| `p_max`        | 101 ì´ìƒ                    | ì˜ˆì™¸ ê°’ ë˜ëŠ” ì˜¤ë¥˜ ëŒ€ë¹„ |

â†’ ì´ 6ê°œì˜ íŒŒí‹°ì…˜ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°,  
`popularity` ê°’ì— ë”°ë¼ í•´ë‹¹ íŒŒí‹°ì…˜ì— ìë™ìœ¼ë¡œ ë¶„ë¥˜ë©ë‹ˆë‹¤.

#### ğŸ” í™œìš© ì˜ˆì‹œ

- **ì¡°íšŒ ì„±ëŠ¥ í–¥ìƒ**  
  íŠ¹ì • ì¸ê¸° êµ¬ê°„(ì˜ˆ: popularity >= 60)ë§Œ ìì£¼ ì¡°íšŒí•  ê²½ìš°, í•´ë‹¹ íŒŒí‹°ì…˜ë§Œ ì ‘ê·¼í•˜ê²Œ ë˜ì–´ ì „ì²´ ìŠ¤ìº”ë³´ë‹¤ í›¨ì”¬ ë¹ ë¥¸ ì‘ë‹µì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

- **ë²”ìœ„ ê¸°ë°˜ í†µê³„ ë¶„ì„**  
  êµ¬ê°„ë³„ ê³¡ ìˆ˜, í‰ê·  energy ë“± ì¸ê¸°ë„ë³„ ê·¸ë£¹í™” ë° í†µê³„ ë¶„ì„ì— ìœ ë¦¬í•©ë‹ˆë‹¤.

- **ë°ì´í„° ê´€ë¦¬ì˜ ìš©ì´ì„±**  
  ì˜ˆë¥¼ ë“¤ì–´ ì¸ê¸°ë„ 20 ë¯¸ë§Œ ê³¡ì´ í•„ìš” ì—†ì–´ì§„ ê²½ìš°, `ALTER TABLE DROP PARTITION`ìœ¼ë¡œ ë¹ ë¥´ê²Œ ì œê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br><br>

## â­ë‹¨ì¼ íŒŒí‹°ì…˜ 2 - ListíŒŒí‹°ì…˜ (track_genre)

<details>
<summary>ğŸ“ SQL ì½”ë“œ ë³´ê¸°</summary>

 ```
CREATE TABLE spotify_songs_partitioned (
  id INT,
  track_id VARCHAR(22),
  artists VARCHAR(600),
  album_name VARCHAR(300),
  track_name VARCHAR(600),
  popularity INT,
  duration_ms INT,
  explicit TINYINT(1),
  danceability FLOAT,
  energy FLOAT,
  key_col INT,
  loudness FLOAT,
  mode_col INT,
  speechiness FLOAT,
  acousticness FLOAT,
  instrumentalness FLOAT,
  liveness FLOAT,
  valence FLOAT,
  tempo FLOAT,
  time_signature INT,
  track_genre VARCHAR(50) NOT NULL,
  PRIMARY KEY(id, track_genre)
)
PARTITION BY LIST COLUMNS(track_genre) (
  PARTITION p_pop 			VALUES IN ('pop', 'power-pop', 'pop-film', 'synth-pop', 'party'),
  PARTITION p_rock 			VALUES IN ('rock', 'alt-rock', 'hard-rock', 'punk', 'punk-rock', 'grunge', 'psych-rock', 'rock-n-roll', 'garage', 'indie', 'indie-pop', 'emo', 'guitar', 'rockabilly'),
  PARTITION p_metal 		VALUES IN ('metal', 'heavy-metal', 'death-metal', 'black-metal', 'grindcore', 'metalcore', 'hardcore', 'hardstyle'),
  PARTITION p_electronic 	VALUES IN ('edm', 'electro', 'electronic', 'techno', 'trance', 'house', 'deep-house', 'progressive-house', 'minimal-techno', 'chicago-house', 'detroit-techno', 'dubstep', 'idm', 'drum-and-bass', 'breakbeat', 'club'),
  PARTITION p_hiphop_rnb 	VALUES IN ('hip-hop', 'r-n-b', 'rap', 'funk', 'soul'),
  PARTITION p_jazz_classical VALUES IN ('jazz', 'classical', 'piano', 'instrumental', 'opera'),
  PARTITION p_world 		VALUES IN ('k-pop', 'j-pop', 'j-rock', 'mandopop', 'cantopop', 'french', 'german', 'turkish', 'iranian', 'swedish', 'malay', 'latin', 'latino', 'spanish', 'brazil', 'mpb', 'forro', 'samba', 'pagode', 'sertanejo', 'world-music', 'indian'),
  PARTITION p_country_folk 	VALUES IN ('country', 'bluegrass', 'honky-tonk', 'folk', 'singer-songwriter', 'songwriter'),
  PARTITION p_reggae 		VALUES IN ('reggae', 'reggaeton', 'ska', 'dub', 'dancehall'),
  PARTITION p_child_kids 	VALUES IN ('children', 'kids', 'disney'),
  PARTITION p_ambient_chill VALUES IN ('ambient', 'study', 'sleep', 'chill', 'new-age'),
  PARTITION p_misc 			VALUES IN ('anime', 'blues', 'gospel', 'comedy', 'happy', 'sad', 'romance', 'show-tunes', 'alternative', 'groove', 'goth', 'trip-hop', 'tango', 'acoustic', 'british')
);
```
</details>


#### ğŸ¯ ë°ì´í„° íŒŒí‹°ì…”ë‹ ì „ëµ

- ê³¡ì˜ `track_genre` ì»¬ëŸ¼ì„ ê¸°ì¤€ìœ¼ë¡œ **LIST íŒŒí‹°ì…”ë‹**,  
`id` ì»¬ëŸ¼ì„ ê¸°ì¤€ìœ¼ë¡œ **HASH ì„œë¸ŒíŒŒí‹°ì…”ë‹**ì„ ì ìš©í•œ í…Œì´ë¸”ì„ ì„¤ê³„í•˜ì˜€ìŠµë‹ˆë‹¤.
<br>

#### ğŸ’¡ íŒŒí‹°ì…”ë‹ ëª©ì 

- íŠ¸ë™ ì¥ë¥´ë³„ ë¶„ì„(ì˜ˆ: ë½, í™í•©, ì¬ì¦ˆ ë“±)ì„ íš¨ìœ¨ì ìœ¼ë¡œ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ `track_genre` ê¸°ì¤€ìœ¼ë¡œ ë…¼ë¦¬ì  ë¶„í• 
- ì„œë¸ŒíŒŒí‹°ì…˜ìœ¼ë¡œ `id`ì— `HASH`ë¥¼ ì ìš©í•˜ì—¬ **ë³‘ë ¬ ì²˜ë¦¬ ë° ê· í˜• ìˆëŠ” ë°ì´í„° ë¶„ì‚°** ê°€ëŠ¥
<br>

#### ğŸ§± íŒŒí‹°ì…˜ êµ¬ì„± ì˜ˆì‹œ

| íŒŒí‹°ì…˜ ì´ë¦„ | í¬í•¨ ì¥ë¥´ (ì˜ˆì‹œ) |
|-------------|------------------|
| `p_pop`     | pop, power-pop, party ë“± |
| `p_rock`    | rock, punk, indie, emo ë“± |
| `p_metal`   | metal, hardcore ë“± |
| `p_electronic` | edm, techno, house ë“± |
| `p_hiphop_rnb` | hip-hop, rap, soul ë“± |
| `p_jazz_classical` | jazz, classical, piano ë“± |
| `p_world`   | k-pop, j-pop, mandopop, latin ë“± |
| `p_country_folk` | country, folk, singer-songwriter ë“± |
| `p_reggae`  | reggae, ska, dancehall ë“± |
| `p_child_kids` | children, disney ë“± |
| `p_ambient_chill` | ambient, sleep, study ë“± |
| `p_misc`    | anime, gospel, comedy ë“± ê¸°íƒ€ ì¥ë¥´ë“¤ |

â†’ ì´ 12ê°œì˜ ì¥ë¥´ ê·¸ë£¹ìœ¼ë¡œ ë¶„ë¦¬í•˜ì—¬,  
  ì¿¼ë¦¬ ìˆ˜í–‰ ì‹œ ê´€ë ¨ íŒŒí‹°ì…˜ë§Œì„ ëŒ€ìƒìœ¼ë¡œ í•˜ì—¬ **ì¿¼ë¦¬ íš¨ìœ¨ í–¥ìƒ**ì„ ë„ëª¨í•©ë‹ˆë‹¤.


#### ğŸ” í™œìš© ì˜ˆì‹œ

- íŠ¹ì • ì¥ë¥´ ë¶„ì„ ì‹œ ë¹ ë¥¸ ì¡°íšŒ ê°€ëŠ¥  
  ```sql
  SELECT * FROM spotify_songs_partitioned WHERE track_genre = 'hip-hop';
<br><br>



## â­ì´ì¤‘ íŒŒí‹°ì…˜1 - RANGE + HASH íŒŒí‹°ì…˜(popularity, explicit)

<details>
<summary>ğŸ“ SQL ì½”ë“œ ë³´ê¸°</summary>

```sql
CREATE TABLE spotify_songs (
  id INT,
  track_id VARCHAR(22),
  artists VARCHAR(600),
  album_name VARCHAR(300),
  track_name VARCHAR(600),
  popularity INT,	-- 0~100ê¹Œì§€ì˜ ì¸ê¸°ë„
  duration_ms INT,	-- íŠ¸ë™ ë“£ëŠ” ì§€ì†ì‹œê°„
  explicit TINYINT(1) CHECK (explicit IN (0, 1)),  -- BOOLEANë„ ê°€ëŠ¥ / ìš•ì„¤í¬í•¨ì—¬ë¶€
  danceability FLOAT,	-- ëŒ„ìŠ¤ì— ë§ëŠ” ê³¡ì¸ì§€
  energy FLOAT,
  key_col INT,
  loudness FLOAT,
  mode_col INT,
  speechiness FLOAT,
  acousticness FLOAT,
  instrumentalness FLOAT,
  liveness FLOAT,
  valence FLOAT,
  tempo FLOAT,
  time_signature INT,
  track_genre VARCHAR(50)
);

select * from spotify_songs;
drop table spotify_songs;

CREATE TABLE spotify_partitioned (
  id INT,
  track_id VARCHAR(22),
  artists VARCHAR(600),
  album_name VARCHAR(300),
  track_name VARCHAR(600),
  popularity INT,    -- 0~100ê¹Œì§€ì˜ ì¸ê¸°ë„
  duration_ms INT,   -- íŠ¸ë™ ë“£ëŠ” ì§€ì†ì‹œê°„
  explicit TINYINT(1),-- BOOLEANë„ ê°€ëŠ¥ / ìš•ì„¤í¬í•¨ì—¬ë¶€
  danceability FLOAT,
  energy FLOAT,
  key_col INT,
  loudness FLOAT,
  mode_col INT,
  speechiness FLOAT,
  acousticness FLOAT,
  instrumentalness FLOAT,
  liveness FLOAT,
  valence FLOAT,
  tempo FLOAT,
  time_signature INT,
  track_genre VARCHAR(50),
  PRIMARY KEY (id, popularity, explicit)
)
PARTITION BY RANGE (popularity)
SUBPARTITION BY HASH (explicit)
SUBPARTITIONS 2 (
  PARTITION p_twt VALUES LESS THAN (20),
  PARTITION p_ft VALUES LESS THAN (40),
  PARTITION p_st VALUES LESS THAN (60),
  PARTITION p_et VALUES LESS THAN (80),
  PARTITION p_mx VALUES LESS THAN MAXVALUE
);

```

</details>

#### ğŸ¯ ë°ì´í„° íŒŒí‹°ì…”ë‹ ì „ëµ

- `popularity`(0~100) ì»¬ëŸ¼ì„ ê¸°ì¤€ìœ¼ë¡œ **RANGE íŒŒí‹°ì…”ë‹**,  
- `explicit`(0/1) ì»¬ëŸ¼ì„ ê¸°ì¤€ìœ¼ë¡œ **HASH ì„œë¸ŒíŒŒí‹°ì…”ë‹(2ê°œ)**ì„ ì ìš©í•˜ì—¬ ê³¡ ë°ì´í„°ë¥¼ ë¶„ì‚° ì €ì¥í–ˆìŠµë‹ˆë‹¤.
<br>

#### ğŸ’¡ íŒŒí‹°ì…”ë‹ ëª©ì 

- ê³¡ì˜ ì¸ê¸°ë„ë¥¼ êµ¬ê°„ë³„ë¡œ ë¶„ë¦¬í•˜ì—¬ **ì¡°íšŒ ë° í†µê³„ ì„±ëŠ¥ í–¥ìƒ**ì„ ìœ ë„í•©ë‹ˆë‹¤.
- ê° ì¸ê¸°ë„ êµ¬ê°„ ì•ˆì—ì„œ `explicit` ì—¬ë¶€ì— ë”°ë¼ ì„œë¸ŒíŒŒí‹°ì…˜ì„ ë¶„ë¦¬í•˜ì—¬ **ìš•ì„¤ í¬í•¨ ì—¬ë¶€ì— ë”°ë¥¸ í•„í„°ë§ì´ë‚˜ ë¶„ì„ íš¨ìœ¨**ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤.
<br>

#### ğŸ§± íŒŒí‹°ì…˜ êµ¬ì„± ë°©ì‹

| íŒŒí‹°ì…˜ ì´ë¦„ | ì¸ê¸°ë„ ë²”ìœ„ | ì„œë¸ŒíŒŒí‹°ì…˜ ìˆ˜ | ì„¤ëª… |
|-------------|--------------|----------------|------|
| `p_twt`     | 0~19         | 2              | explicit ì—¬ë¶€ë¡œ 2ê°œ ë¶„ë¦¬ |
| `p_ft`      | 20~39        | 2              | ã€ƒ |
| `p_st`      | 40~59        | 2              | ã€ƒ |
| `p_et`      | 60~79        | 2              | ã€ƒ |
| `p_mx`      | 80~100+      | 2              | ã€ƒ |

â†’ ì´ 5ê°œì˜ popularity íŒŒí‹°ì…˜ Ã— 2ê°œì˜ explicit ì„œë¸ŒíŒŒí‹°ì…˜ = ì´ **10ê°œë¡œ ë¶„ë¦¬**


#### ğŸ” í™œìš© ì˜ˆì‹œ

- **ì¸ê¸°ë„ 60 ì´ìƒ & ìš•ì„¤ ë¯¸í¬í•¨ ê³¡** ì¡°íšŒ
  ```sql
  SELECT track_name, popularity
  FROM spotify_partitioned
  WHERE popularity >= 60 AND explicit = 0;

<br><br>
## â­ì´ì¤‘ íŒŒí‹°ì…˜2 - LIST + HASH íŒŒí‹°ì…˜(track_genre,id)

<details>
<summary>ğŸ“ SQL ì½”ë“œ ë³´ê¸°</summary>

```sql
CREATE TABLE spotify_songs_partitioned (
  id INT NOT NULL,
  track_id VARCHAR(22),
  artists VARCHAR(600),
  album_name VARCHAR(300),
  track_name VARCHAR(600),
  popularity INT,
  duration_ms INT,
  explicit TINYINT(1),
  danceability FLOAT,
  energy FLOAT,
  key_col INT,
  loudness FLOAT,
  mode_col INT,
  speechiness FLOAT,
  acousticness FLOAT,
  instrumentalness FLOAT,
  liveness FLOAT,
  valence FLOAT,
  tempo FLOAT,
  time_signature INT,
  track_genre VARCHAR(50) NOT NULL,
  PRIMARY KEY (id, track_genre)
)
ENGINE = InnoDB
PARTITION BY LIST COLUMNS (track_genre)
SUBPARTITION BY HASH(id)
SUBPARTITIONS 8 (
  PARTITION p_pop VALUES IN ('pop', 'pop-film', 'power-pop', 'indie-pop', 'synth-pop', 'swedish', 'romance'),
  PARTITION p_rock VALUES IN ('rock', 'alt-rock', 'punk', 'punk-rock', 'hard-rock', 'grunge', 'emo', 'rock-n-roll', 'rockabilly', 'psych-rock'),
  PARTITION p_electronic VALUES IN ('edm', 'electronic', 'electro', 'techno', 'trance', 'trip-hop', 'deep-house', 'detroit-techno', 'minimal-techno', 'progressive-house', 'chicago-house', 'idm', 'breakbeat', 'house', 'club'),
  PARTITION p_metal VALUES IN ('metal', 'black-metal', 'death-metal', 'metalcore', 'grindcore', 'heavy-metal', 'hardcore'),
  PARTITION p_hiphoprnb VALUES IN ('hip-hop', 'r-n-b'),
  PARTITION p_jazzbluesclassical VALUES IN ('jazz', 'blues', 'classical', 'piano', 'opera'),
  PARTITION p_latin VALUES IN ('latin', 'latino', 'samba', 'salsa', 'pagode', 'mpb', 'brazil'),
  PARTITION p_worldtraditional VALUES IN ('indian', 'mandopop', 'cantopop', 'malay', 'iranian', 'turkish', 'j-pop', 'j-rock', 'j-idol', 'j-dance', 'anime', 'world-music'),
  PARTITION p_indiefolk VALUES IN ('indie', 'folk', 'singer-songwriter', 'songwriter', 'acoustic', 'guitar'),
  PARTITION p_otherelectronic VALUES IN ('ambient', 'chill', 'dub', 'dubstep', 'garage'),
  PARTITION p_other VALUES IN ('afrobeat', 'bluegrass', 'british', 'children', 'comedy', 'country', 'dance', 'dancehall', 'disco', 'disney', 'drum-and-bass', 'funk', 'french', 'german', 'gospel', 'goth', 'groove', 'happy', 'honky-tonk', 'industrial', 'kids', 'new-age', 'party', 'sad', 'sertanejo', 'show-tunes', 'ska', 'sleep', 'soul', 'spanish', 'study', 'tango')
);

```

</details>

#### ğŸ¯ ë°ì´í„° íŒŒí‹°ì…”ë‹ ì „ëµ

- `track_genre` ì»¬ëŸ¼ì„ ê¸°ì¤€ìœ¼ë¡œ **LIST íŒŒí‹°ì…”ë‹**ì„ ì ìš©í•˜ê³ ,  <br>
  ê° íŒŒí‹°ì…˜ ë‚´ë¶€ì— ëŒ€í•´ `id` ì»¬ëŸ¼ì„ ê¸°ì¤€ìœ¼ë¡œ **HASH ì„œë¸ŒíŒŒí‹°ì…”ë‹**ì„ 8ê°œë¡œ êµ¬ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.

<br>

#### ğŸ’¡ íŒŒí‹°ì…”ë‹ ëª©ì 

- ì¥ë¥´ë³„ ë¶„ì„, í•„í„°ë§, ì¶”ì²œ ì‹œìŠ¤í…œ ë“±ì—ì„œ ìì£¼ ì‚¬ìš©ë˜ëŠ” `track_genre`ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë¶„ë¦¬í•˜ì—¬ **ì¡°íšŒ íš¨ìœ¨ì„±ì„ ê·¹ëŒ€í™”**
- ê° ì¥ë¥´ íŒŒí‹°ì…˜ ë‚´ë¶€ì—ì„œ `id`ë¡œ ì„œë¸ŒíŒŒí‹°ì…˜ì„ êµ¬ì„±í•˜ì—¬ **ë³‘ë ¬ ì²˜ë¦¬ ë° ë°ì´í„° ë¶„ì‚° ì €ì¥ ìµœì í™”**
<br>


#### ğŸ§± íŒŒí‹°ì…˜ êµ¬ì„± ë°©ì‹

| íŒŒí‹°ì…˜ ì´ë¦„ | í¬í•¨ ì¥ë¥´ ì˜ˆì‹œ | ì„œë¸ŒíŒŒí‹°ì…˜ ìˆ˜ |
|-------------|----------------|----------------|
| `p_pop`     | pop, indie-pop, romance ë“± | 8 |
| `p_rock`    | rock, punk, emo ë“± | 8 |
| `p_electronic` | edm, techno, house ë“± | 8 |
| `p_metal`   | metal, hardcore ë“± | 8 |
| `p_hiphoprnb` | hip-hop, r-n-b | 8 |
| `p_jazzbluesclassical` | jazz, blues, piano ë“± | 8 |
| `p_latin`   | latin, samba, mpb ë“± | 8 |
| `p_worldtraditional` | k-pop, j-pop, anime ë“± | 8 |
| `p_indiefolk` | indie, folk, acoustic ë“± | 8 |
| `p_otherelectronic` | ambient, chill, dub ë“± | 8 |
| `p_other`   | country, funk, gospel ë“± ê¸°íƒ€ ì¥ë¥´ | 8 |

â†’ ì´ **11ê°œì˜ LIST íŒŒí‹°ì…˜ Ã— 8ê°œì˜ ì„œë¸ŒíŒŒí‹°ì…˜ = 88ê°œì˜ ë¶„ì‚° ì €ì¥ ê³µê°„**


#### ğŸ” í™œìš© ì˜ˆì‹œ

- íŠ¹ì • ì¥ë¥´ ê³¡ ì¡°íšŒ
  ```sql
  SELECT * FROM spotify_songs_partitioned
  WHERE track_genre = 'techno';

<br><br>
---

## ğŸš€ í™•ì¥ ê°œë… - ì¸ë±ìŠ¤

- íŒŒí‹°ì…”ë‹ê³¼ ì¸ë±ì‹± ì°¨ì´
- ì¸ë±ìŠ¤ ì ìš© ì „í›„ ì„±ëŠ¥ ë¹„êµ
- íŒŒí‹°ì…˜ í”„ë£¨ë‹ ì„¤ëª…

---

## ğŸ§¨ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

- ë°ì´í„° íƒ€ì…, ì˜ˆì•½ì–´ ì¶©ëŒ, BOOLEAN ì²˜ë¦¬ ë“±
- íŒŒí‹°ì…˜ ì¡°ê±´ ë¯¸ì¼ì¹˜ â†’ INSERT ì˜¤ë¥˜
- íŒŒí‹°ì…˜ í”„ë£¨ë‹ ì•ˆ ë˜ëŠ” ì‚¬ë¡€

---

## ğŸª íšŒê³  ë° ë””ë²¨ë¡­ ë°©í–¥

- ì„±ëŠ¥ ê°œì„  ì²´ê° ë° ì‹¤ë¬´ì  í™•ì¥ ê°€ëŠ¥ì„±
- ë‚¨ì€ ì•„ì‰¬ìš´ ì  (ì˜ˆ: ì„œë¸ŒíŒŒí‹°ì…˜ í”„ë£¨ë‹ í•œê³„, ì¡°ê±´ ìµœì í™” ë“±)
- í–¥í›„ ë°œì „ ë°©í–¥ (â†’ ë‚ ì§œ ê¸°ì¤€ íŒŒí‹°ì…˜, ë¡œê·¸ì„± ë°ì´í„° ì ìš© ë“±)

---




## ğŸ”¹ 0. íŒŒí‹°ì…˜ì´ë€? 

<img width="386" height="130" alt="image" src="https://github.com/user-attachments/assets/f1fc510d-f727-48fc-b01c-4f38a2492fcb" />
<br>
- ë…¼ë¦¬ì ìœ¼ë¡œëŠ” í•˜ë‚˜ì˜ í…Œì´ë¸”ì´ì§€ë§Œ ì—¬ëŸ¬ ê°œì˜ íŒŒí‹°ì…˜ìœ¼ë¡œ ë‚˜ë‰˜ì–´ <br>
  ë°ì´í„°ë“¤ì´ ê°ê°ì˜ ì„¸ê·¸ë¨¼íŠ¸ì— ì €ì¥ë˜ëŠ” í…Œì´ë¸”
- íŒŒí‹°ì…˜ í‚¤ë¥¼ PRIMARY KEY ì— í¬í•¨ì‹œì¼œì•¼í•˜ë©° íŒŒí‹°ì…˜ í‚¤ëŠ” ë‹¨ì¼ ì»¬ëŸ¼ë§Œ ê°€ëŠ¥í•˜ë‹¤.<br>
â‡’ ìœ ì¼ì„± ê²€ì‚¬ ì‹œ ì–´ëŠ íŒŒí‹°ì…˜ì„ ë´ì•¼í•  ì§€ ëª¨ë¥´ê¸°ë•Œë¬¸ì— ë¹ ë¥¸ íƒìƒ‰ê³¼ ì¤‘ë³µ ì—¬ë¶€ ì²´í¬ë¥¼ í•˜ê¸° ìœ„í•´ PRIMARY KEYë¥¼ í¬í•¨ì‹œí‚¤ê¸° ìœ„í•¨ <br>
<br><br>

## ğŸ”¹ 1. ë°ì´í„° ìˆ˜ì§‘ & ì „ì²˜ë¦¬

- íŒŒì´ì¬ìœ¼ë¡œ ë°ì´í„° ì „ì²˜ë¦¬ (ë¬¸ìì— ë¬´ì˜ë¯¸í•œ ëˆë”°ì˜´í‘œ ë“± ì‚­ì œ)
- SQL ì˜ˆì•½ì–´(index, key ë“±)ëŠ” ì»¬ëŸ¼ëª…(ID, KEY_COL)ìœ¼ë¡œ ìˆ˜ì •
- ë¶ˆë¦¬ì–¸ í•„ë“œëŠ” 0/1ë¡œ ë³€í™˜í•˜ì—¬ `NUMBER(1)` ë˜ëŠ” `TINYINT(1)`ë¡œ ë§¤í•‘
- í•„ë“œ ìµœëŒ€ ê¸¸ì´ëŠ” GPT ë„êµ¬ë¥¼ í™œìš©í•´ ìë™ ë¶„ì„í•˜ì—¬ ì„¤ê³„ì— ë°˜ì˜
 <br> <br>
### ğŸ›  ê¸°ë³¸ ê³¼ì •: ë°ì´í„° íƒ€ì… ë° í¬ê¸° ì§€ì •

<img width="600" height="260" alt="image (1)" src="https://github.com/user-attachments/assets/17deedac-9625-4725-b483-9add9267381b" />

- DBì— ì €ì¥í•˜ê¸° ì „, ê° ì»¬ëŸ¼ì˜ íƒ€ì…ê³¼ ìµœëŒ€ ê¸¸ì´ë¥¼ ì„¤ê³„
- CSV ë°ì´í„° íŠ¹ì„±ìƒ **ê¸¸ì´ ì˜ˆì¸¡ì´ ì–´ë ¤ì›Œ ì‚¬ì „ ë¶„ì„ í•„ìš”**

#### âš  íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

- **TROUBLE**  
  â†’ ë°ì´í„° í¬ê¸°ê°€ ë„ˆë¬´ ì»¤ì„œ í•„ë“œë³„ ìµœëŒ€ ê¸¸ì´ë¥¼ ì•Œ ìˆ˜ ì—†ìŒ

- **SOLUTION**  
  â†’ ChatGPTì—ê²Œ CSV íŒŒì¼ì„ ì „ë‹¬í•´ ê° ì»¬ëŸ¼ì˜ ìµœëŒ€ ê¸¸ì´ë¥¼ ìë™ ì¶”ì¶œ  
  â†’ ì¶”ì¶œëœ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ `VARCHAR(600)` ë“± íƒ€ì… ë° í¬ê¸° ì„¤ê³„

<br>

### ğŸ“Œ ë°©ë²• 1: TABLE ë¨¼ì € ìƒì„± í›„ CSV Import (ì •ì„ ë°©ì‹)

<details>
<summary> ğŸªŸTABLE ìƒì„± ì½”ë“œğŸªŸ </summary>

```CREATE TABLE spotify_songs (
  id INT,
  track_id VARCHAR(22),
  artists VARCHAR(600),
  album_name VARCHAR(300),
  track_name VARCHAR(600),
  popularity INT,
  duration_ms INT,
  explicit TINYINT(1) CHECK (explicit IN (0, 1)),  -- BOOLEANë„ ê°€ëŠ¥
  danceability FLOAT,
  energy FLOAT,
  key_col INT,
  loudness FLOAT,
  mode_col INT,
  speechiness FLOAT,
  acousticness FLOAT,
  instrumentalness FLOAT,
  liveness FLOAT,
  valence FLOAT,
  tempo FLOAT,
  time_signature INT,
  track_genre VARCHAR(50)
);
```
</details>

- ì»¬ëŸ¼ íƒ€ì…, ì œì•½ì¡°ê±´ì„ **ì‚¬ì „ì— ëª…í™•íˆ í†µì œ ê°€ëŠ¥**
- ì˜ˆì•½ì–´ ì¶©ëŒ ë°©ì§€ ë° import ì‹¤íŒ¨ ì‹œ ë””ë²„ê¹… ìš©ì´
- ì‹¤ë¬´ì—ì„œëŠ” **ì„¤ê³„ â†’ ì ì¬ ë¶„ë¦¬**ê°€ ì¼ë°˜ì 


<br>

### ğŸ“Œ ë°©ë²• 2: DBeaverë¡œ CSV Import + ìë™ í…Œì´ë¸” ìƒì„±

- ì œì•½ì¡°ê±´ì„ ì„¤ì •í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ë°ì´í„° ì •í•©ì„± í™•ë³´ê°€ ì–´ë ¤ì›€
- ë°ì´í„° ì„¤ê³„ì™€ ì ì¬ê°€ ë¶„ë¦¬ë˜ì§€ ì•Šì•„ ë°ì´í„° í’ˆì§ˆ ì €í•˜, ìœ ì§€ë³´ìˆ˜ ì–´ë ¤ì›€, ì‹œìŠ¤í…œ ì•ˆì •ì„± ì €í•˜ì˜ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ
<br><br>
#### ìš”ì•½

| í•­ëª© | ì •ì„ ë°©ì‹ | ìë™ ìƒì„± |
|------|-----------|------------|
| íƒ€ì… í†µì œ | ê°€ëŠ¥ | ë¶ˆê°€ëŠ¥ |
| ì œì•½ì¡°ê±´ ì„¤ì • | ê°€ëŠ¥ | ë¶ˆê°€ |
| ì‹¤ë¬´ ì‚¬ìš© | ê¶Œì¥ | ë¹„ê¶Œì¥ |
---
<br><br>

#### âš ï¸ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… âš ï¸

- **TROUBLE**  
  â†’ ë°ì´í„° í¬ê¸°ê°€ ë„ˆë¬´ ì»¤ì„œ í•„ë“œë³„ ìµœëŒ€ ê¸¸ì´ë¥¼ ì•Œ ìˆ˜ ì—†ìŒ

- **SOLUTION**  
  â†’ ChatGPTì—ê²Œ CSV íŒŒì¼ì„ ì „ë‹¬í•´ ê° ì»¬ëŸ¼ì˜ ìµœëŒ€ ê¸¸ì´ë¥¼ ìë™ ì¶”ì¶œ  
  â†’ ì¶”ì¶œëœ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ `VARCHAR(600)` ë“± íƒ€ì… ë° í¬ê¸° ì„¤ê³„

---


## ğŸ“Š Range Partition ê²°ê³¼

---

### âœ… Partition í…Œì´ë¸” ìƒì„± ë° í™œìš©


---

### â±ï¸ ì¿¼ë¦¬ ì„±ëŠ¥ ì¸¡ì • (ì‹¤í–‰ ì‹œê°„ ê¸°ì¤€)

<details>
<summary>ğŸ“ SQL ì½”ë“œ ë³´ê¸°</summary>

```sql
-- ì‹¤í–‰ ì‹œê°„ ì¸¡ì • (ms ë‹¨ìœ„)
SET @start_original = CURRENT_TIMESTAMP(3);
SELECT * FROM spotify WHERE popularity BETWEEN 60 AND 80;
SET @end_original = CURRENT_TIMESTAMP(3);

SET @start_partitioned = CURRENT_TIMESTAMP(3);
SELECT * FROM spotify_partitioned WHERE popularity BETWEEN 60 AND 80;
SET @end_partitioned = CURRENT_TIMESTAMP(3);

SET @start_partitioned_indexed = CURRENT_TIMESTAMP(3);
SELECT * FROM spotify_partitioned_indexed WHERE popularity BETWEEN 60 AND 80;
SET @end_partitioned_indexed = CURRENT_TIMESTAMP(3);

-- ì‹¤í–‰ ì‹œê°„ ì¶œë ¥
SELECT 
  TIMESTAMPDIFF(MICROSECOND, @start_original, @end_original) / 1000 AS `ì›ë³¸_ì‹¤í–‰ì‹œê°„_ms`,
  TIMESTAMPDIFF(MICROSECOND, @start_partitioned, @end_partitioned) / 1000 AS `RANGE_ì‹¤í–‰ì‹œê°„_ms`,
  TIMESTAMPDIFF(MICROSECOND, @start_partitioned_indexed, @end_partitioned_indexed) / 1000 AS `RANGE+INDEX_ì‹¤í–‰ì‹œê°„_ms`;
```

</details>

- 


---

### ğŸ” CPU ì‚¬ìš©ëŸ‰ ë¹„êµ

<details>
<summary>ğŸ“ SQL í”„ë¡œíŒŒì¼ë§ ì½”ë“œ ë³´ê¸°</summary>

```sql
-- 1. í”„ë¡œíŒŒì¼ë§ ê¸°ëŠ¥ ì¼œê¸°
SET profiling = 1;

-- 2. ì¿¼ë¦¬ ì‹¤í–‰
SELECT * FROM spotify WHERE popularity BETWEEN 61 AND 80;
SELECT * FROM spotify_partitioned WHERE popularity BETWEEN 61 AND 80;
SELECT * FROM spotify_partitioned_indexed WHERE popularity BETWEEN 61 AND 80;

-- 3. ì‹¤í–‰ëœ ì¿¼ë¦¬ ëª©ë¡ í™•ì¸
SHOW PROFILES;

-- 4. CPU ì‚¬ìš© ì‹œê°„ ìƒì„¸ ë³´ê¸°
SHOW PROFILE CPU FOR QUERY 1;
SHOW PROFILE CPU FOR QUERY 2;
SHOW PROFILE CPU FOR QUERY 3;
```

</details>

---

### ğŸ“Š CPU ì‚¬ìš©ëŸ‰ ë¹„êµ í…Œì´ë¸”

| ğŸ” êµ¬ë¶„                  | â±ï¸ Duration (s) | ğŸ§  CPU User (s) | âš™ï¸ CPU System (s) | ğŸ§¾ ì´í•© (s)     |
|--------------------------|------------------|------------------|--------------------|------------------|
| ğŸ”µ ì›ë³¸ í…Œì´ë¸”           | 0.006830         | 0.006933         | 0.000000           | **0.006933**     |
| ğŸŸ© íŒŒí‹°ì…”ë‹ë§Œ ì ìš©       | 0.001480         | 0.001395         | 0.000132           | **0.001527**     |
| ğŸŸ¨ íŒŒí‹°ì…”ë‹ + ì¸ë±ìŠ¤ ì ìš© | 0.002330         | 0.002229         | 0.000097           | **0.002326**     |

---

### ğŸ“Œ ì‹¤í–‰ ì‹œê°„ vs CPU ì‹œê°„ ì°¨ì´

| í•­ëª©       | ì‹¤í–‰ ì‹œê°„ (`Duration`)           | CPU ì‹œê°„ (`CPU_user` + `CPU_system`)     |
|------------|----------------------------------|-------------------------------------------|
| ì •ì˜       | ì¿¼ë¦¬ ì‹¤í–‰ì— ê±¸ë¦° ì „ì²´ ì‹œê°„        | ì‹¤ì œ ì—°ì‚°ì— ì†Œìš”ëœ CPU ì‹œê°„                |
| í¬í•¨ ìš”ì†Œ  | I/O, ë½, ëŒ€ê¸° ì‹œê°„ í¬í•¨           | ìˆœìˆ˜ ê³„ì‚° ì‹œê°„                            |
| ì¤‘ìš”ì„±     | ì‚¬ìš©ì ì²´ê° ì„±ëŠ¥ ì§€í‘œ             | ì„œë²„ ìì› ìµœì í™” ì§€í‘œ                     |

---

### âœ… ê²°ë¡  ë° ì¶”ì²œ ì „ëµ

> **BETWEEN / ë²”ìœ„ ì¡°ê±´ ì¿¼ë¦¬**ë¥¼ ìì£¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°:

- ğŸŸ© `Range íŒŒí‹°ì…”ë‹ë§Œ ì ìš©`í•˜ëŠ” ê²ƒì´ ê°€ì¥ íš¨ê³¼ì ì´ë‹¤.

- ğŸŸ¨ ì¸ë±ìŠ¤ëŠ” ê¼­ í•„ìš”í•œ ê²½ìš°ì—ë§Œ ê³ ë ¤í•œë‹¤.

> ğŸ’¡ ì¿¼ë¦¬ ì†ë„ë¿ë§Œ ì•„ë‹ˆë¼ **CPU ì‚¬ìš©ëŸ‰ë„ í•¨ê»˜ ê³ ë ¤**í•˜ì—¬ íŒŒí‹°ì…”ë‹ ì „ëµì„ ìˆ˜ë¦½í•´ì•¼ í•œë‹¤.



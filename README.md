#  ìŠ¤í¬í‹°íŒŒì´ íŠ¸ë™ ë°ì´í„°ë¥¼ í™œìš©í•œ Partition Project

<br>

### ğŸ‘¥ Team Members
| ê°•í•œì†” | ì´ì •ì´ | ì„ì±„ì¤€ | ìµœì†Œì˜ |
| :---: | :---: | :---: | :---: |
| [<img width="160px" src="https://github.com/kkangsol.png" />](https://github.com/kkangsol) | [<img width="160px" src="https://github.com/2jeong2.png" />](https://github.com/2jeong2) | [<img width="160px" src="https://github.com/dlacowns21.png" />](https://github.com/dlacowns21) | [<img width="160px" src="https://github.com/ottffss1005.png" />](https://github.com/ottffss1005) |
| [@kkangsol](https://github.com/kkangsol) | [@2jeong2](https://github.com/2jeong2) | [@dlacowns21](https://github.com/dlacowns21) | [@ottffss1005](https://github.com/ottffss1005) |

<br>

# âš“ ë°©í–¥ì„± ì„¤ì •
 ### â“ íŒŒí‹°ì…˜ì´ë€ <br>
  ë…¼ë¦¬ì ìœ¼ë¡œ í•˜ë‚˜ì˜ í…Œì´ë¸”ì´ì§€ë§Œ<br>
  ë¬¼ë¦¬ì ìœ¼ë¡œëŠ” ì—¬ëŸ¬ê°œì˜ íŒŒí‹°ì…˜ìœ¼ë¡œ ë‚˜ë‰˜ì–´ ë°ì´í„°ë“¤ì´ ê°ê°ì˜ ì„¸ê·¸ë¨¼íŠ¸ì— ì €ì¥ë˜ëŠ” í…Œì´ë¸”<br>
  
**íŒŒí‹°ì…”ë‹ì˜ ê°œë…ì„ ì´ë¡ ì—ë§Œ ê·¸ì¹˜ì§€ ì•Šê³ , ì‹¤ì œ ì„±ëŠ¥ì— ë¯¸ì¹˜ëŠ” íš¨ê³¼ë¥¼ ì •ëŸ‰ì ìœ¼ë¡œ ë¶„ì„í•˜ê³ ì í•˜ì˜€ìŠµë‹ˆë‹¤.** <br>
**ë‚˜ì•„ê°€ ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ í™•ì¥ ê¸°ë²•ì„ ì ìš©í•˜ë©°, íŒŒí‹°ì…˜ ì„¤ê³„ì˜ ì „ëµì  í™œìš© ê°€ëŠ¥ì„±ì„ ì‹¤ë¬´ ê´€ì ì—ì„œ ëª¨ìƒ‰í•˜ì˜€ìŠµë‹ˆë‹¤.**
<br> <br>

# ğŸ¯ í”„ë¡œì íŠ¸ ëª©í‘œ
<br>

íŒŒí‹°ì…˜ì€ ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ í™˜ê²½ì—ì„œ **ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ í•µì‹¬ ì „ëµ**ìœ¼ë¡œ ì‘ìš©í•©ë‹ˆë‹¤. <br>
<br>
ë³¸ í”„ë¡œì íŠ¸ì—ì„œëŠ” **ì™¸ë¶€ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ íŒŒí‹°ì…˜ì„ ì„¤ê³„**í•˜ê³  ì¿¼ë¦¬ ì„±ëŠ¥ ê°œì„ ì„ ëª©ì ìœ¼ë¡œ **ì¸ë±ìŠ¤ ì „ëµì„ ë³‘í–‰ ì ìš©**í–ˆìŠµë‹ˆë‹¤. <br>
<br>
ì´ë¥¼ í†µí•´ **ë°ì´í„° ì•¡ì„¸ìŠ¤ ë²”ìœ„ ì¶•ì†Œ ë° íŒŒí‹°ì…˜ í”„ë£¨ë‹ íš¨ê³¼ë¥¼ ì§ì ‘ ê²€ì¦**í•˜ë©° íŒŒí‹°ì…˜ì´ ì‹¤ì§ˆì ìœ¼ë¡œ ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ì²´ê³„ì ìœ¼ë¡œ ë¶„ì„í•˜ì˜€ìŠµë‹ˆë‹¤.

<br>

---

# ğŸ“ í”„ë¡œì íŠ¸ ê°œìš”

| êµ¬ë¶„ | ë‚´ìš© |
|------|------|
| ë°ì´í„°ì…‹ | Kaggle - Spotify Tracks Attributes and Popularity |
| ë°ì´í„° ì¶œì²˜ | https://www.kaggle.com/datasets/melissamonfared/spotify-tracks-attributes-and-popularity |
| DB | MySQL (DBeaver) |
| í…Œì´ë¸” ê·œëª¨ | ì•½ 11ë§Œ 4ì²œ ê±´ |

<br>

---

# ğŸ“‚ ëª©ì°¨

1. [ğŸ“Š ë°ì´í„° ì„ ì • ë° ë¶„ì„](#-ë°ì´í„°-ì„ ì •-ë°-ë¶„ì„)
2. [âš™ï¸ íŒŒí‹°ì…˜ ì‹¤í–‰](#ï¸-íŒŒí‹°ì…˜-ì‹¤í–‰)
3. [ğŸš€ í™•ì¥ ê°œë… - ì¸ë±ìŠ¤](#-í™•ì¥-ê°œë…---ì¸ë±ìŠ¤ (Index))
4. [ğŸ§¨ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…](#-íŠ¸ëŸ¬ë¸”ìŠˆíŒ…)
5. [ğŸª íšŒê³  ë° ë””ë²¨ë¡­ ë°©í–¥](#-íšŒê³ -ë°-ë””ë²¨ë¡­-ë°©í–¥)

---


# ğŸ“Š ë°ì´í„° ì„ ì • ë° ë¶„ì„

### 1. ë°ì´í„° ì„ ì • ê³¼ì •
<br>

<details>
 
<summary><strong> ğŸ“ë°ì´í„° ì„ ì • ê¸°ì¤€</strong></summary>
  <br>
  
  - **ë°ì´í„° í¬ê¸°**   <br>
  ì„±ëŠ¥ ì‹¤í—˜ì— ìœ ì˜ë¯¸í•œ ìˆ˜ì¤€ì˜ ë°ì´í„°ëŸ‰ì„ ê°–ì¶˜ ë°ì´í„°ì…‹ ì‚¬ìš©
  <br>
  
  - **ì •ì œëœ ë°ì´í„°**   <br>
  ì „ì²˜ë¦¬ ë¶€ë‹´ì´ ì ì€ ì •ì œëœ ë°ì´í„°ì…‹ì„ ì‚¬ìš©í•˜ì—¬ íŒŒí‹°ì…˜ ê³¼ì •ì— ì§‘ì¤‘í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±
  <br>
  
  - **ë‹¤ì–‘í•œ ì»¬ëŸ¼ ìˆ˜**   <br>
    íŒŒí‹°ì…˜ ê¸°ì¤€ì„ ìœ ì—°í•˜ê²Œ ì„¤ê³„í•˜ê³  ë‹¤ì–‘í•œ ë°©ì‹ì˜ ì‹¤í—˜ ë° ìµœì í™”ê°€ ê°€ëŠ¥í•˜ë„ë¡ êµ¬ì„±
  <br>
  
  - **ë‹¤ì–‘í•œ ë°ì´í„° íƒ€ì…**   <br>
    RANGE / LIST / HASH ë“± ë‹¤ì–‘í•œ íŒŒí‹°ì…”ë‹ ì „ëµì„ ì§„í–‰í•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±
  <br>
</details>
  
  <br>
  
<details>
 
<summary><strong> ğŸ“ë°ì´í„° ë ˆí¼ëŸ°ìŠ¤ ì‚¬ì´íŠ¸</strong></summary>
  <br>
  
  - **Kaggle** <br>
    https://www.kaggle.com/datasets
  
  - **ê¸ˆìœµê°ë…ì› - ê¸ˆìœµìƒí’ˆí•œëˆˆì—** <br>
    https://finlife.fss.or.kr/finlife/api/fncCoApi/list.do?menuNo=700051
     
  - **ë°ì´í„°í—ˆë¸Œ** <br>
    https://datahub.io/

  - **UCL Machine Lerning Repository** <br>
    https://archive.ics.uci.edu/

  - **ê³µê³µ ë°ì´í„° í¬í„¸** <br>
    https://www.data.go.kr/

 </details>
  <br>
  
<details>
<summary><strong> ğŸ“ë°ì´í„° ì„ ì • </strong></summary>
  <br>
  
  - **Kaggle - Spotify Tracks Attributes and Popularity** <br>
    https://www.kaggle.com/datasets/melissamonfared/spotify-tracks-attributes-and-popularity
 
 </details>
 
<br><br>
### 2. ë°ì´í„° ë¶„ì„

- ğŸ—’ï¸ ì£¼ìš” ì»¬ëŸ¼ ë¶„ì„
  
<img width="623" height="592" alt="ìŠ¤í¬ë¦°ìƒ· 2025-07-12 150548" src="https://github.com/user-attachments/assets/ec86dad2-b03d-493d-87b6-f2e58f2f8bdd" />



### 3. ë°ì´í„° ì„í¬íŠ¸



#### ë°©ë²• 1 : CREATE TABLE â†’ CSV import [ì •ì„]

<details>
   <summary><strong>  ğŸ“ TABLE ìƒì„± ì½”ë“œ</strong></summary>

  <pre><code>
  CREATE TABLE spotify_songs (
  id INT,
  track_id VARCHAR(22),
  artists VARCHAR(600),
  album_name VARCHAR(300),
  track_name VARCHAR(600),
  popularity INT,
  duration_ms INT,
  explicit TINYINT(1) CHECK (explicit IN (0, 1)),  -- BOOLEANë„ ê°€ëŠ¥
  danceability FLOAT,
  energy FLOAT,
  key_col INT,
  loudness FLOAT,
  mode_col INT,
  speechiness FLOAT,
  acousticness FLOAT,
  instrumentalness FLOAT,
  liveness FLOAT,
  valence FLOAT,
  tempo FLOAT,
  time_signature INT,
  track_genre VARCHAR(50)
);
  </code></pre>

</details>
<br>

- ë°ì´í„° íƒ€ì…ê³¼ ì œì•½ì¡°ê±´ì„ ëª…í™•íˆ ì •ì˜í•  ìˆ˜ ìˆì–´ <strong>ìŠ¤í‚¤ë§ˆ ì¼ê´€ì„±ê³¼ ë¬´ê²°ì„±</strong>ì„ í™•ë³´í•  ìˆ˜ ìˆìŒ
<br><br>
- ì˜ˆì•½ì–´ ë° ì»¬ëŸ¼ëª… ì¶©ëŒì„ ì‚¬ì „ì— ë°©ì§€í•  ìˆ˜ ìˆì–´ <strong>ì´ì‹ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±</strong>ì´ í–¥ìƒë¨
<br><br>
- Import ê³¼ì •ì—ì„œ ì˜¤ë¥˜ ë°œìƒ ì‹œ <strong>ë¬¸ì œì˜ ì›ì¸ ì¶”ì  ë° í•´ê²°</strong>í•  ìˆ˜ ìˆìŒ
<br><br>
- ì‹¤ë¬´ í™˜ê²½ì—ì„œëŠ” ìŠ¤í‚¤ë§ˆ ì„¤ê³„ì™€ ë°ì´í„° ì ì¬ í”„ë¡œì„¸ìŠ¤ë¥¼ <strong>ëª…í™•íˆ ë¶„ë¦¬</strong>í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì 
<br>
<br>

#### ë°©ë²• 2 : DBeaver ìë™ í…Œì´ë¸” ìƒì„±

- ì œì•½ì¡°ê±´ì„ ì„¤ì •í•  ìˆ˜ ì—†ì–´, <strong>ë°ì´í„°ì˜ ì •í•©ì„±ê³¼ ë¬´ê²°ì„±ì„ ë³´ì¥í•˜ê¸° ì–´ë ¤ì›€</strong>
<br><br>
- ë°ì´í„° ì„¤ê³„ì™€ ì ì¬ê°€ ë¶„ë¦¬ë˜ì§€ ì•Šìœ¼ë©´ <strong>ë°ì´í„° í’ˆì§ˆ ì €í•˜, ìœ ì§€ë³´ìˆ˜ì˜ ë³µì¡ì„± ì¦ê°€, ì‹œìŠ¤í…œ ì•ˆì •ì„± ì €í•˜</strong> ë“±ì˜ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ
<br><br>


---

# âš™ï¸ íŒŒí‹°ì…˜ ì‹¤í–‰

## â­ë‹¨ì¼ íŒŒí‹°ì…˜ 1 - RANGE íŒŒí‹°ì…˜(popularity)

<details>
<summary>ğŸ“ SQL ì½”ë“œ ë³´ê¸°</summary>

```sql
-- 1. ê¸°ì¡´ í…Œì´ë¸” ì‚­ì œ
DROP TABLE IF EXISTS spotify;

-- 2. ì›ë³¸ í…Œì´ë¸” ìƒì„±
CREATE TABLE spotify (
  id INT,
  track_id VARCHAR(22),
  artists VARCHAR(600),
  album_name VARCHAR(300),
  track_name VARCHAR(600),
  popularity INT,
  duration_ms INT,
  explicit TINYINT(1),
  danceability FLOAT,
  energy FLOAT,
  key_col INT,
  loudness FLOAT,
  mode_col INT,
  speechiness FLOAT,
  acousticness FLOAT,
  instrumentalness FLOAT,
  liveness FLOAT,
  valence FLOAT,
  tempo FLOAT,
  time_signature INT,
  track_genre VARCHAR(50)
);

-- 3. Range Partition í…Œì´ë¸” ìƒì„±
CREATE TABLE spotify_partitioned (
  id INT,
  track_id VARCHAR(22),
  artists VARCHAR(600),
  album_name VARCHAR(300),
  track_name VARCHAR(600),
  popularity INT,
  duration_ms INT,
  explicit TINYINT(1),
  danceability FLOAT,
  energy FLOAT,
  key_col INT,
  loudness FLOAT,
  mode_col INT,
  speechiness FLOAT,
  acousticness FLOAT,
  instrumentalness FLOAT,
  liveness FLOAT,
  valence FLOAT,
  tempo FLOAT,
  time_signature INT,
  track_genre VARCHAR(50),
  PRIMARY KEY (id, popularity)
)
PARTITION BY RANGE (popularity) (
  PARTITION p_0_20    VALUES LESS THAN (21),
  PARTITION p_21_40   VALUES LESS THAN (41),
  PARTITION p_41_60   VALUES LESS THAN (61),
  PARTITION p_61_80   VALUES LESS THAN (81),
  PARTITION p_81_100  VALUES LESS THAN (101),
  PARTITION p_max     VALUES LESS THAN MAXVALUE
);

-- 4. ë°ì´í„° ì‚½ì…
INSERT INTO spotify_partitioned
SELECT * FROM spotify;
```

</details>

#### ğŸ¯ ë°ì´í„° íŒŒí‹°ì…”ë‹ ì „ëµ

- ê³¡ì˜ `popularity`(ì¸ê¸°ë„) ì»¬ëŸ¼ì„ ê¸°ì¤€ìœ¼ë¡œ **Range íŒŒí‹°ì…”ë‹**ì„ ì ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.
<br>

#### ğŸ’¡ íŒŒí‹°ì…”ë‹ ëª©ì 

- ì¸ê¸°ë„ êµ¬ê°„(0~100)ì„ ê¸°ì¤€ìœ¼ë¡œ ê³¡ ë°ì´í„°ë¥¼ ë…¼ë¦¬ì ìœ¼ë¡œ ë¶„í• í•˜ì—¬, **ë¶„ì„ ì¿¼ë¦¬ì˜ ì„±ëŠ¥ í–¥ìƒ**ì„ ë„ëª¨í•©ë‹ˆë‹¤. <br>
- íŠ¹íˆ **íŠ¹ì • ì¸ê¸° êµ¬ê°„ì— ëŒ€í•œ ë¹ˆë²ˆí•œ ì¡°íšŒ/í†µê³„/í•„í„°ë§ ì‘ì—…**ì´ ì˜ˆìƒë˜ì–´, `popularity` ê¸°ì¤€ì˜ íŒŒí‹°ì…˜ì´ íš¨ìœ¨ì ì´ë¼ê³  íŒë‹¨í•˜ì˜€ìŠµë‹ˆë‹¤.
<br>

### ğŸ§± íŒŒí‹°ì…˜ êµ¬ì„± ë°©ì‹

| íŒŒí‹°ì…˜ ì´ë¦„   | í¬í•¨ êµ¬ê°„ (popularity ê°’) | ì„¤ëª… |
|----------------|-----------------------------|------|
| `p_0_20`       | 0 ì´ìƒ 21 ë¯¸ë§Œ               | ë‚®ì€ ì¸ê¸°ë„ ê³¡ |
| `p_21_40`      | 21 ì´ìƒ 41 ë¯¸ë§Œ             | ë‚®ì€ ì¤‘ê°„ |
| `p_41_60`      | 41 ì´ìƒ 61 ë¯¸ë§Œ             | í‰ê·  ìˆ˜ì¤€ |
| `p_61_80`      | 61 ì´ìƒ 81 ë¯¸ë§Œ             | ì¤‘ìƒìœ„ ê³¡ |
| `p_max`        | 81 ì´ìƒ 101 ë¯¸ë§Œ            | ì¸ê¸° ê³¡ |


â†’ ì´ 5ê°œì˜ íŒŒí‹°ì…˜ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°,  
`popularity` ê°’ì— ë”°ë¼ í•´ë‹¹ íŒŒí‹°ì…˜ì— ìë™ìœ¼ë¡œ ë¶„ë¥˜ë©ë‹ˆë‹¤.

#### ğŸ” í™œìš© ì˜ˆì‹œ

- **ì¡°íšŒ ì„±ëŠ¥ í–¥ìƒ**  
  íŠ¹ì • ì¸ê¸° êµ¬ê°„(ì˜ˆ: popularity >= 60)ë§Œ ìì£¼ ì¡°íšŒí•  ê²½ìš°, í•´ë‹¹ íŒŒí‹°ì…˜ë§Œ ì ‘ê·¼í•˜ê²Œ ë˜ì–´ ì „ì²´ ìŠ¤ìº”ë³´ë‹¤ í›¨ì”¬ ë¹ ë¥¸ ì‘ë‹µì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

- **ë²”ìœ„ ê¸°ë°˜ í†µê³„ ë¶„ì„**  
  êµ¬ê°„ë³„ ê³¡ ìˆ˜, í‰ê·  energy ë“± ì¸ê¸°ë„ë³„ ê·¸ë£¹í™” ë° í†µê³„ ë¶„ì„ì— ìœ ë¦¬í•©ë‹ˆë‹¤.

- **ë°ì´í„° ê´€ë¦¬ì˜ ìš©ì´ì„±**  
  ì˜ˆë¥¼ ë“¤ì–´ ì¸ê¸°ë„ 20 ë¯¸ë§Œ ê³¡ì´ í•„ìš” ì—†ì–´ì§„ ê²½ìš°, `ALTER TABLE DROP PARTITION`ìœ¼ë¡œ ë¹ ë¥´ê²Œ ì œê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br><br>

## â­ë‹¨ì¼ íŒŒí‹°ì…˜ 2 - ListíŒŒí‹°ì…˜ (track_genre)

<details>
<summary>ğŸ“ SQL ì½”ë“œ ë³´ê¸°</summary>

 ```
CREATE TABLE spotify_songs_partitioned (
  id INT,
  track_id VARCHAR(22),
  artists VARCHAR(600),
  album_name VARCHAR(300),
  track_name VARCHAR(600),
  popularity INT,
  duration_ms INT,
  explicit TINYINT(1),
  danceability FLOAT,
  energy FLOAT,
  key_col INT,
  loudness FLOAT,
  mode_col INT,
  speechiness FLOAT,
  acousticness FLOAT,
  instrumentalness FLOAT,
  liveness FLOAT,
  valence FLOAT,
  tempo FLOAT,
  time_signature INT,
  track_genre VARCHAR(50) NOT NULL,
  PRIMARY KEY(id, track_genre)
)
PARTITION BY LIST COLUMNS(track_genre) (
  PARTITION p_pop 			VALUES IN ('pop', 'power-pop', 'pop-film', 'synth-pop', 'party'),
  PARTITION p_rock 			VALUES IN ('rock', 'alt-rock', 'hard-rock', 'punk', 'punk-rock', 'grunge', 'psych-rock', 'rock-n-roll', 'garage', 'indie', 'indie-pop', 'emo', 'guitar', 'rockabilly'),
  PARTITION p_metal 		VALUES IN ('metal', 'heavy-metal', 'death-metal', 'black-metal', 'grindcore', 'metalcore', 'hardcore', 'hardstyle'),
  PARTITION p_electronic 	VALUES IN ('edm', 'electro', 'electronic', 'techno', 'trance', 'house', 'deep-house', 'progressive-house', 'minimal-techno', 'chicago-house', 'detroit-techno', 'dubstep', 'idm', 'drum-and-bass', 'breakbeat', 'club'),
  PARTITION p_hiphop_rnb 	VALUES IN ('hip-hop', 'r-n-b', 'rap', 'funk', 'soul'),
  PARTITION p_jazz_classical VALUES IN ('jazz', 'classical', 'piano', 'instrumental', 'opera'),
  PARTITION p_world 		VALUES IN ('k-pop', 'j-pop', 'j-rock', 'mandopop', 'cantopop', 'french', 'german', 'turkish', 'iranian', 'swedish', 'malay', 'latin', 'latino', 'spanish', 'brazil', 'mpb', 'forro', 'samba', 'pagode', 'sertanejo', 'world-music', 'indian'),
  PARTITION p_country_folk 	VALUES IN ('country', 'bluegrass', 'honky-tonk', 'folk', 'singer-songwriter', 'songwriter'),
  PARTITION p_reggae 		VALUES IN ('reggae', 'reggaeton', 'ska', 'dub', 'dancehall'),
  PARTITION p_child_kids 	VALUES IN ('children', 'kids', 'disney'),
  PARTITION p_ambient_chill VALUES IN ('ambient', 'study', 'sleep', 'chill', 'new-age'),
  PARTITION p_misc 			VALUES IN ('anime', 'blues', 'gospel', 'comedy', 'happy', 'sad', 'romance', 'show-tunes', 'alternative', 'groove', 'goth', 'trip-hop', 'tango', 'acoustic', 'british')
);
```
</details>


#### ğŸ¯ ë°ì´í„° íŒŒí‹°ì…”ë‹ ì „ëµ

- `track_genre` ì»¬ëŸ¼ì„ ê¸°ì¤€ìœ¼ë¡œ **LIST íŒŒí‹°ì…”ë‹**ì„ ì ìš©í•˜ì—¬,  
ì¥ë¥´ë³„ë¡œ ë°ì´í„°ë¥¼ ë¶„ì‚°í•˜ê³  ë¶„ì„ ì¿¼ë¦¬ì˜ ì„±ëŠ¥ì„ ë†’ì´ëŠ” êµ¬ì¡°ë¥¼ ì„¤ê³„í•˜ì˜€ìŠµë‹ˆë‹¤.
<br>

#### ğŸ’¡ íŒŒí‹°ì…”ë‹ ëª©ì 

- ê³¡ì˜ ì¥ë¥´ëŠ” ì¶”ì²œ ì‹œìŠ¤í…œ, ì‚¬ìš©ì ì·¨í–¥ ë¶„ì„, ì‹œì¥ ë™í–¥ íŒŒì•… ë“±ì— ë§¤ìš° ì¤‘ìš”í•œ ìš”ì†Œì…ë‹ˆë‹¤.
- `track_genre`ì— ë”°ë¼ LIST íŒŒí‹°ì…”ë‹ì„ ì ìš©í•¨ìœ¼ë¡œì¨
  - íŠ¹ì • ì¥ë¥´ì— ëŒ€í•œ ì¡°íšŒ ì„±ëŠ¥ í–¥ìƒ
  - ì¥ë¥´ë³„ ì§‘ê³„/í†µê³„ì˜ ê°„ì†Œí™”
  - ë°ì´í„° ê´€ë¦¬(ì˜ˆ: ì¥ë¥´ë³„ ì‚­ì œ/ì´ê´€)ì˜ ìš©ì´ì„±
  ì„ ê¸°ëŒ€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
<br>

#### ğŸ§± íŒŒí‹°ì…˜ êµ¬ì„± ì˜ˆì‹œ

| íŒŒí‹°ì…˜ ì´ë¦„ | í¬í•¨ ì¥ë¥´ (ì˜ˆì‹œ) |
|-------------|------------------|
| `p_pop`     | pop, power-pop, party ë“± |
| `p_rock`    | rock, punk, indie, emo ë“± |
| `p_metal`   | metal, hardcore ë“± |
| `p_electronic` | edm, techno, house ë“± |
| `p_hiphop_rnb` | hip-hop, rap, soul ë“± |
| `p_jazz_classical` | jazz, classical, piano ë“± |
| `p_world`   | k-pop, j-pop, mandopop, latin ë“± |
| `p_country_folk` | country, folk, singer-songwriter ë“± |
| `p_reggae`  | reggae, ska, dancehall ë“± |
| `p_child_kids` | children, disney ë“± |
| `p_ambient_chill` | ambient, sleep, study ë“± |
| `p_misc`    | anime, gospel, comedy ë“± ê¸°íƒ€ ì¥ë¥´ë“¤ |

â†’ ì´ 12ê°œì˜ ì¥ë¥´ ê·¸ë£¹ìœ¼ë¡œ ë¶„ë¦¬í•˜ì—¬,  
  ì¿¼ë¦¬ ìˆ˜í–‰ ì‹œ ê´€ë ¨ íŒŒí‹°ì…˜ë§Œì„ ëŒ€ìƒìœ¼ë¡œ í•˜ì—¬ **ì¿¼ë¦¬ íš¨ìœ¨ í–¥ìƒ**ì„ ë„ëª¨í•©ë‹ˆë‹¤.


#### ğŸ” í™œìš© ì˜ˆì‹œ

- íŠ¹ì • ì¥ë¥´ ì¸ê¸°ê³¡ ì¡°íšŒ  
  ```sql
  SELECT track_name, popularity
  FROM spotify_songs_partitioned
  WHERE track_genre = 'rock';
  
<br><br>



## â­ì´ì¤‘ íŒŒí‹°ì…˜1 - RANGE + HASH íŒŒí‹°ì…˜(popularity, explicit)

<details>
<summary>ğŸ“ SQL ì½”ë“œ ë³´ê¸°</summary>

```sql
CREATE TABLE spotify_songs (
  id INT,
  track_id VARCHAR(22),
  artists VARCHAR(600),
  album_name VARCHAR(300),
  track_name VARCHAR(600),
  popularity INT,	-- 0~100ê¹Œì§€ì˜ ì¸ê¸°ë„
  duration_ms INT,	-- íŠ¸ë™ ë“£ëŠ” ì§€ì†ì‹œê°„
  explicit TINYINT(1) CHECK (explicit IN (0, 1)),  -- BOOLEANë„ ê°€ëŠ¥ / ìš•ì„¤í¬í•¨ì—¬ë¶€
  danceability FLOAT,	-- ëŒ„ìŠ¤ì— ë§ëŠ” ê³¡ì¸ì§€
  energy FLOAT,
  key_col INT,
  loudness FLOAT,
  mode_col INT,
  speechiness FLOAT,
  acousticness FLOAT,
  instrumentalness FLOAT,
  liveness FLOAT,
  valence FLOAT,
  tempo FLOAT,
  time_signature INT,
  track_genre VARCHAR(50)
);

select * from spotify_songs;
drop table spotify_songs;

CREATE TABLE spotify_partitioned (
  id INT,
  track_id VARCHAR(22),
  artists VARCHAR(600),
  album_name VARCHAR(300),
  track_name VARCHAR(600),
  popularity INT,    -- 0~100ê¹Œì§€ì˜ ì¸ê¸°ë„
  duration_ms INT,   -- íŠ¸ë™ ë“£ëŠ” ì§€ì†ì‹œê°„
  explicit TINYINT(1),-- BOOLEANë„ ê°€ëŠ¥ / ìš•ì„¤í¬í•¨ì—¬ë¶€
  danceability FLOAT,
  energy FLOAT,
  key_col INT,
  loudness FLOAT,
  mode_col INT,
  speechiness FLOAT,
  acousticness FLOAT,
  instrumentalness FLOAT,
  liveness FLOAT,
  valence FLOAT,
  tempo FLOAT,
  time_signature INT,
  track_genre VARCHAR(50),
  PRIMARY KEY (id, popularity, explicit)
)
PARTITION BY RANGE (popularity)
SUBPARTITION BY HASH (explicit)
SUBPARTITIONS 2 (
  PARTITION p_twt VALUES LESS THAN (20),
  PARTITION p_ft VALUES LESS THAN (40),
  PARTITION p_st VALUES LESS THAN (60),
  PARTITION p_et VALUES LESS THAN (80),
  PARTITION p_mx VALUES LESS THAN MAXVALUE
);

```

</details>

#### ğŸ¯ ë°ì´í„° íŒŒí‹°ì…”ë‹ ì „ëµ

- `popularity`(0~100) ì»¬ëŸ¼ì„ ê¸°ì¤€ìœ¼ë¡œ **RANGE íŒŒí‹°ì…”ë‹**,  
- `explicit`(0/1) ì»¬ëŸ¼ì„ ê¸°ì¤€ìœ¼ë¡œ **HASH ì„œë¸ŒíŒŒí‹°ì…”ë‹(2ê°œ)**ì„ ì ìš©í•˜ì—¬ ê³¡ ë°ì´í„°ë¥¼ ë¶„ì‚° ì €ì¥í–ˆìŠµë‹ˆë‹¤.
<br>

#### ğŸ’¡ íŒŒí‹°ì…”ë‹ ëª©ì 

- ê³¡ì˜ ì¸ê¸°ë„ë¥¼ êµ¬ê°„ë³„ë¡œ ë¶„ë¦¬í•˜ì—¬ **ì¡°íšŒ ë° í†µê³„ ì„±ëŠ¥ í–¥ìƒ**ì„ ìœ ë„í•©ë‹ˆë‹¤.
- ê° ì¸ê¸°ë„ êµ¬ê°„ ì•ˆì—ì„œ `explicit` ì—¬ë¶€ì— ë”°ë¼ ì„œë¸ŒíŒŒí‹°ì…˜ì„ ë¶„ë¦¬í•˜ì—¬ **ìš•ì„¤ í¬í•¨ ì—¬ë¶€ì— ë”°ë¥¸ í•„í„°ë§ì´ë‚˜ ë¶„ì„ íš¨ìœ¨**ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤.
<br>

#### ğŸ§± íŒŒí‹°ì…˜ êµ¬ì„± ë°©ì‹

| íŒŒí‹°ì…˜ ì´ë¦„ | ì¸ê¸°ë„ ë²”ìœ„ | ì„œë¸ŒíŒŒí‹°ì…˜ ìˆ˜ | ì„¤ëª… |
|-------------|--------------|----------------|------|
| `p_twt`     | 0~19         | 2              | explicit ì—¬ë¶€ë¡œ 2ê°œ ë¶„ë¦¬ |
| `p_ft`      | 20~39        | 2              | ã€ƒ |
| `p_st`      | 40~59        | 2              | ã€ƒ |
| `p_et`      | 60~79        | 2              | ã€ƒ |
| `p_mx`      | 80~100+      | 2              | ã€ƒ |

â†’ ì´ 5ê°œì˜ popularity íŒŒí‹°ì…˜ Ã— 2ê°œì˜ explicit ì„œë¸ŒíŒŒí‹°ì…˜ = ì´ **10ê°œë¡œ ë¶„ë¦¬**


#### ğŸ” í™œìš© ì˜ˆì‹œ

- **ì¸ê¸°ë„ 60 ì´ìƒ & ìš•ì„¤ ë¯¸í¬í•¨ ê³¡** ì¡°íšŒ
  ```sql
  SELECT track_name, popularity
  FROM spotify_partitioned
  WHERE popularity >= 60 AND explicit = 0;

<br><br>
## â­ì´ì¤‘ íŒŒí‹°ì…˜2 - LIST + HASH íŒŒí‹°ì…˜(track_genre,id)

<details>
<summary>ğŸ“ SQL ì½”ë“œ ë³´ê¸°</summary>

```sql
CREATE TABLE spotify_songs_partitioned (
  id INT NOT NULL,
  track_id VARCHAR(22),
  artists VARCHAR(600),
  album_name VARCHAR(300),
  track_name VARCHAR(600),
  popularity INT,
  duration_ms INT,
  explicit TINYINT(1),
  danceability FLOAT,
  energy FLOAT,
  key_col INT,
  loudness FLOAT,
  mode_col INT,
  speechiness FLOAT,
  acousticness FLOAT,
  instrumentalness FLOAT,
  liveness FLOAT,
  valence FLOAT,
  tempo FLOAT,
  time_signature INT,
  track_genre VARCHAR(50) NOT NULL,
  PRIMARY KEY (id, track_genre)
)
ENGINE = InnoDB
PARTITION BY LIST COLUMNS (track_genre)
SUBPARTITION BY HASH(id)
SUBPARTITIONS 8 (
  PARTITION p_pop VALUES IN ('pop', 'pop-film', 'power-pop', 'indie-pop', 'synth-pop', 'swedish', 'romance'),
  PARTITION p_rock VALUES IN ('rock', 'alt-rock', 'punk', 'punk-rock', 'hard-rock', 'grunge', 'emo', 'rock-n-roll', 'rockabilly', 'psych-rock'),
  PARTITION p_electronic VALUES IN ('edm', 'electronic', 'electro', 'techno', 'trance', 'trip-hop', 'deep-house', 'detroit-techno', 'minimal-techno', 'progressive-house', 'chicago-house', 'idm', 'breakbeat', 'house', 'club'),
  PARTITION p_metal VALUES IN ('metal', 'black-metal', 'death-metal', 'metalcore', 'grindcore', 'heavy-metal', 'hardcore'),
  PARTITION p_hiphoprnb VALUES IN ('hip-hop', 'r-n-b'),
  PARTITION p_jazzbluesclassical VALUES IN ('jazz', 'blues', 'classical', 'piano', 'opera'),
  PARTITION p_latin VALUES IN ('latin', 'latino', 'samba', 'salsa', 'pagode', 'mpb', 'brazil'),
  PARTITION p_worldtraditional VALUES IN ('indian', 'mandopop', 'cantopop', 'malay', 'iranian', 'turkish', 'j-pop', 'j-rock', 'j-idol', 'j-dance', 'anime', 'world-music'),
  PARTITION p_indiefolk VALUES IN ('indie', 'folk', 'singer-songwriter', 'songwriter', 'acoustic', 'guitar'),
  PARTITION p_otherelectronic VALUES IN ('ambient', 'chill', 'dub', 'dubstep', 'garage'),
  PARTITION p_other VALUES IN ('afrobeat', 'bluegrass', 'british', 'children', 'comedy', 'country', 'dance', 'dancehall', 'disco', 'disney', 'drum-and-bass', 'funk', 'french', 'german', 'gospel', 'goth', 'groove', 'happy', 'honky-tonk', 'industrial', 'kids', 'new-age', 'party', 'sad', 'sertanejo', 'show-tunes', 'ska', 'sleep', 'soul', 'spanish', 'study', 'tango')
);

```

</details>

#### ğŸ¯ ë°ì´í„° íŒŒí‹°ì…”ë‹ ì „ëµ

- `track_genre` ì»¬ëŸ¼ì„ ê¸°ì¤€ìœ¼ë¡œ **LIST íŒŒí‹°ì…”ë‹**ì„ ì ìš©í•˜ê³ ,  <br>
  ê° íŒŒí‹°ì…˜ ë‚´ë¶€ì— ëŒ€í•´ `id` ì»¬ëŸ¼ì„ ê¸°ì¤€ìœ¼ë¡œ **HASH ì„œë¸ŒíŒŒí‹°ì…”ë‹**ì„ 8ê°œë¡œ êµ¬ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.

<br>

#### ğŸ’¡ íŒŒí‹°ì…”ë‹ ëª©ì 

- ì¥ë¥´ë³„ ë¶„ì„, í•„í„°ë§, ì¶”ì²œ ì‹œìŠ¤í…œ ë“±ì—ì„œ ìì£¼ ì‚¬ìš©ë˜ëŠ” `track_genre`ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë¶„ë¦¬í•˜ì—¬ **ì¡°íšŒ íš¨ìœ¨ì„±ì„ ê·¹ëŒ€í™”**
- ê° ì¥ë¥´ íŒŒí‹°ì…˜ ë‚´ë¶€ì—ì„œ `id`ë¡œ ì„œë¸ŒíŒŒí‹°ì…˜ì„ êµ¬ì„±í•˜ì—¬ **ë³‘ë ¬ ì²˜ë¦¬ ë° ë°ì´í„° ë¶„ì‚° ì €ì¥ ìµœì í™”**
<br>


#### ğŸ§± íŒŒí‹°ì…˜ êµ¬ì„± ë°©ì‹

| íŒŒí‹°ì…˜ ì´ë¦„ | í¬í•¨ ì¥ë¥´ ì˜ˆì‹œ | ì„œë¸ŒíŒŒí‹°ì…˜ ìˆ˜ |
|-------------|----------------|----------------|
| `p_pop`     | pop, indie-pop, romance ë“± | 8 |
| `p_rock`    | rock, punk, emo ë“± | 8 |
| `p_electronic` | edm, techno, house ë“± | 8 |
| `p_metal`   | metal, hardcore ë“± | 8 |
| `p_hiphoprnb` | hip-hop, r-n-b | 8 |
| `p_jazzbluesclassical` | jazz, blues, piano ë“± | 8 |
| `p_latin`   | latin, samba, mpb ë“± | 8 |
| `p_worldtraditional` | k-pop, j-pop, anime ë“± | 8 |
| `p_indiefolk` | indie, folk, acoustic ë“± | 8 |
| `p_otherelectronic` | ambient, chill, dub ë“± | 8 |
| `p_other`   | country, funk, gospel ë“± ê¸°íƒ€ ì¥ë¥´ | 8 |

â†’ ì´ **11ê°œì˜ LIST íŒŒí‹°ì…˜ Ã— 8ê°œì˜ ì„œë¸ŒíŒŒí‹°ì…˜ = 88ê°œì˜ ë¶„ì‚° ì €ì¥ ê³µê°„**


#### ğŸ” í™œìš© ì˜ˆì‹œ

- íŠ¹ì • ì¥ë¥´ ê³¡ ì¡°íšŒ
  ```sql
  SELECT * FROM spotify_songs_partitioned
  WHERE track_genre = 'techno';

<br><br>
---


# ğŸš€ í™•ì¥ ê°œë… - ì¸ë±ìŠ¤ (Index)

íŒŒí‹°ì…”ë‹ë§Œìœ¼ë¡œë„ ì¡°íšŒ ì„±ëŠ¥ì„ í¬ê²Œ ê°œì„ í•  ìˆ˜ ìˆì§€ë§Œ,  
ë°ì´í„°ê°€ ë§ì•„ì§ˆìˆ˜ë¡ **ë‹¨ìˆœ íŒŒí‹°ì…˜ë§Œìœ¼ë¡œëŠ” í•œê³„ì— ë„ë‹¬**í•˜ê²Œ ë©ë‹ˆë‹¤.  
ê·¸ë˜ì„œ ë” ë‚˜ì€ ì„±ëŠ¥ì„ ìœ„í•´ ì¸ë±ìŠ¤ë¥¼ í•¨ê»˜ ë„ì…í•˜ì˜€ìŠµë‹ˆë‹¤.

### ğŸ“Œ íŒŒí‹°ì…”ë‹ + ì¸ë±ìŠ¤ = ì„±ëŠ¥ ê·¹ëŒ€í™”

- **íŒŒí‹°ì…”ë‹**ì€ ë°ì´í„°ë¥¼ ë¬¼ë¦¬ì ìœ¼ë¡œ ë‚˜ëˆ ì„œ ë¶ˆí•„ìš”í•œ ë²”ìœ„ë¥¼ ê±´ë„ˆë›¸ ìˆ˜ ìˆê²Œ í•˜ê³ ,  
- **ì¸ë±ìŠ¤**ëŠ” ì›í•˜ëŠ” ê°’ì„ íŠ¸ë¦¬ êµ¬ì¡°ë¡œ ë¹ ë¥´ê²Œ ì°¾ì•„ì£¼ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.

ë‘˜ì„ í•¨ê»˜ ì‚¬ìš©í•˜ë©´:

âœ… **íŒŒí‹°ì…˜ í”„ë£¨ë‹**ìœ¼ë¡œ ë²”ìœ„ë¥¼ ì¢íŒ ë’¤  
âœ… **ì¸ë±ìŠ¤ë¥¼ í†µí•´ í•´ë‹¹ íŒŒí‹°ì…˜ ë‚´ë¶€ì—ì„œ ë¹ ë¥´ê²Œ íƒìƒ‰**

> ğŸ“ˆ ê²°ê³¼ì ìœ¼ë¡œ ë””ìŠ¤í¬ I/Oë¥¼ ì¤„ì´ê³ , ëŒ€ìš©ëŸ‰ì—ì„œë„ **ê²€ìƒ‰ ì‘ë‹µ ì†ë„ê°€ íšê¸°ì ìœ¼ë¡œ ê°œì„ **ë©ë‹ˆë‹¤.

---

### ğŸŒ² ì¸ë±ìŠ¤ë€?

ì¸ë±ìŠ¤ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ íŠ¹ì • ë°ì´í„°ë¥¼ ë¹ ë¥´ê²Œ ì°¾ê¸° ìœ„í•´ **ìƒ‰ì¸**ì²˜ëŸ¼ ì‘ë™í•˜ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤.  
MySQLì—ì„œëŠ” ì£¼ë¡œ **B-Tree (ë˜ëŠ” B+Tree)** ê¸°ë°˜ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©°, ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ì  íŠ¹ì§•ì´ ìˆìŠµë‹ˆë‹¤:

| í•­ëª© | ì„¤ëª… |
|------|------|
| **B-Tree** | ëª¨ë“  ë…¸ë“œì— ë°ì´í„° ì¡´ì¬. ì‚½ì…/ê²€ìƒ‰/ì‚­ì œ ì„±ëŠ¥ ì¼ì • |
| **B+Tree** | ì‹¤ì œ ë°ì´í„°ëŠ” ë¦¬í”„ ë…¸ë“œì—ë§Œ ì €ì¥. ë¦¬í”„ ë…¸ë“œë¼ë¦¬ ì—°ê²°ë˜ì–´ ìˆì–´ **ë²”ìœ„ ê²€ìƒ‰ì— ìœ ë¦¬** |
| **ì¸ë±ìŠ¤ ìƒì„± ìœ„ì¹˜** | ìì£¼ ì¡°íšŒí•˜ëŠ” ì»¬ëŸ¼ (ì˜ˆ: `track_genre`, `popularity`, `explicit`) |
| **ë³µí•© ì¸ë±ìŠ¤** | ë‘ ê°œ ì´ìƒì˜ ì»¬ëŸ¼ì— ì¸ë±ìŠ¤ë¥¼ ì ìš©í•  ìˆ˜ë„ ìˆìŒ (ì˜ˆ: `CREATE INDEX idx_genre_pop ON table(track_genre, popularity);`) |

---

### ğŸ§ª ì¸ë±ìŠ¤ ìƒì„± ë° ë¹„êµ

- âœ… ì¸ë±ìŠ¤ ìƒì„± ë° í™•ì¸ ì¿¼ë¦¬
  
```sql
-- ì¸ë±ìŠ¤ ìƒì„±
CREATE INDEX idx_genre_artist ON spotify_songs_partitioned (track_genre, artists);

-- íŒŒí‹°ì…˜ê³¼ ì¸ë±ìŠ¤ í‚¤ê°€ ì˜¬ë°”ë¥´ê²Œ ì“°ì´ê³  ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ì½”ë“œ
Explain
SELECT track_name, popularity 
FROM spotify_songs_partitioned
WHERE track_genre = 'pop' artists='Arko' ORDER BY track_name desc limit 10;

```

- âœ… Explain ê²°ê³¼
<img width="734" height="60" alt="image" src="https://github.com/user-attachments/assets/e0aaeef5-e166-472d-80ee-572deb4fae88" />



---

# ğŸ’­ ê²°ë¡ 

### ì‹¤í–‰ ì‹œê°„ ë¹„êµ
<img width="807" height="130" alt="image (1)" src="https://github.com/user-attachments/assets/d823cbab-af74-4082-9926-4b317bb56f5c" />

### CPU ì‹œê°„ ë¹„êµ

```sql
-- 1. í”„ë¡œíŒŒì¼ë§ ê¸°ëŠ¥ ì¼œê¸°
SET profiling = 1;

-- 2. ì²« ë²ˆì§¸ ì¿¼ë¦¬ ì‹¤í–‰
SELECT * FROM spotify
WHERE popularity BETWEEN 61 AND 80;

-- 3. ë‘ ë²ˆì§¸ ì¿¼ë¦¬ ì‹¤í–‰
SELECT * FROM spotify_partitioned_indexed
WHERE popularity BETWEEN 61 AND 80;

-- 4. ì‹¤í–‰ëœ ì¿¼ë¦¬ ëª©ë¡ ë³´ê¸°
SHOW PROFILES;

-- 5. ê° ì¿¼ë¦¬ì˜ CPU ì‹œê°„ ìƒì„¸ ë³´ê¸°
SHOW PROFILE CPU FOR QUERY 1;
SHOW PROFILE CPU FOR QUERY 2;
```
### ğŸ“Š ì‹¤í–‰ ì‹œê°„ vs CPU ì‹œê°„ ë¹„êµ

#### ğŸŸ¦ 1. ì›ë³¸ í…Œì´ë¸” (`spotify`)

| ë‹¨ê³„ | Duration (s) | CPU User (s) | CPU System (s) |
| --- | --- | --- | --- |
| starting | 0.000385 | 0.000379 | 0.000000 |
| executing | 0.005758 | 0.005922 | 0.000000 |
| ê¸°íƒ€ ë‹¨ê³„ í•©ê³„ | 0.000687 | 0.000632 | 0.000000 |
| **ì´í•©** | **0.006830** | **0.006933** | **0.000000** |
|  |  |  |  |

#### ğŸŸ© 2. íŒŒí‹°ì…”ë‹ í…Œì´ë¸” (`spotify_partitioned`)

| ë‹¨ê³„ | Duration (s) | CPU User (s) | CPU System (s) |
| --- | --- | --- | --- |
| starting | 0.000096 | 0.000063 | 0.000028 |
| executing | 0.001138 | 0.001139 | 0.000000 |
| ê¸°íƒ€ ë‹¨ê³„ í•©ê³„ | 0.000246 | 0.000193 | 0.000104 |
| **ì´í•©** | **0.001480** | **0.001395** | **0.000132** |



#### ğŸŸ¨ 3. íŒŒí‹°ì…”ë‹ + ì¸ë±ìŠ¤ í…Œì´ë¸” (`spotify_partitioned_indexed`)

| ë‹¨ê³„ | Duration (s) | CPU User (s) | CPU System (s) |
| --- | --- | --- | --- |
| starting | 0.000081 | 0.000053 | 0.000023 |
| executing | 0.001793 | 0.001797 | 0.000000 |
| ê¸°íƒ€ ë‹¨ê³„ í•©ê³„ | 0.000456 | 0.000379 | 0.000074 |
| **ì´í•©** | **0.002330** | **0.002229** | **0.000097** |



| í•­ëª© | ì‹¤í–‰ ì‹œê°„ (`Duration`) | CPU ì‹œê°„ |
| --- | --- | --- |
| ì •ì˜ | ì¿¼ë¦¬ ì‹œì‘ë¶€í„° ëê¹Œì§€ ê±¸ë¦° ì „ì²´ ì‹œê°„ (ë²½ì‹œê³„ ê¸°ì¤€) | ì‹¤ì œë¡œ CPUê°€ ì—°ì‚°í•œ ì‹œê°„ |
| í¬í•¨ | ëŒ€ê¸° ì‹œê°„, I/O, ë½, CPU | ì˜¤ì§ ê³„ì‚°/ì²˜ë¦¬í•œ ì‹œê°„ë§Œ |
| ì˜ˆì‹œ | 10ì´ˆ (ëŠë¦° ì¿¼ë¦¬ì§€ë§Œ CPUëŠ” 1ì´ˆë§Œ ì‚¬ìš©) | 1ì´ˆ (CPU íš¨ìœ¨ì€ ë†’ìŒ) |

âœ… ì‹¤í–‰ ì‹œê°„ì€ "ì‚¬ìš©ìê°€ ì²´ê°í•˜ëŠ” ì „ì²´ ì²˜ë¦¬ ì‹œê°„"  
âœ… CPU ì‹œê°„ì€ "CPUê°€ ì‹¤ì œ ì¼í•œ ì‹œê°„"

## âœ¨ ê²°ë¡ 


- ğŸ”µ **RANGE íŒŒí‹°ì…”ë‹ë§Œ ì ìš©í•œ í…Œì´ë¸”ì´ ê°€ì¥ ë¹ ë¥´ê³  CPU ì‚¬ìš©ëŸ‰ë„ ê°€ì¥ ì ìŒ**
  - â†’ ì¿¼ë¦¬ ì¡°ê±´(`WHERE popularity >= 60`)ì´ íŒŒí‹°ì…˜ í‚¤ì— í¬í•¨ë˜ë¯€ë¡œ, **íŒŒí‹°ì…˜ í”„ë£¨ë‹(Pruning)** ë•ë¶„ì— ê²€ìƒ‰ ë²”ìœ„ê°€ ì¢ì•„ì§

- ğŸŸ¡ ì¸ë±ìŠ¤ë¥¼ ì¶”ê°€í–ˆì„ ê²½ìš°, ì˜¤íˆë ¤ **CPU ì‚¬ìš©ëŸ‰ì´ ì¦ê°€**
  - â†’ ì´ìœ : íŒŒí‹°ì…˜ ë‚´ì—ì„œ **ì¸ë±ìŠ¤ íƒìƒ‰**ì´ë¼ëŠ” ì¶”ê°€ ì‘ì—…ì´ ë°œìƒí•˜ê¸° ë•Œë¬¸
  - â†’ ë‹¨, **ë°ì´í„° ì–‘ì´ ë§¤ìš° í´ ê²½ìš°ì—”** ì¸ë±ìŠ¤ + íŒŒí‹°ì…˜ ì¡°í•©ì´ ìœ ë¦¬í•  ìˆ˜ ìˆìŒ

- âšª ì›ë³¸ í…Œì´ë¸”ì€ íŒŒí‹°ì…˜/ì¸ë±ìŠ¤ ì—†ì´ **í’€ìŠ¤ìº”(Full Table Scan)**
  - â†’ CPU ì‹œê°„ê³¼ ì‹¤í–‰ ì‹œê°„ì´ ëª¨ë‘ ê°€ì¥ í¼



### âœ… ìµœì  ì „ëµ (ì¿¼ë¦¬ ì¡°ê±´ ì¤‘ì‹¬ íŒë‹¨)

> ğŸ“Œ **ì¸ê¸°ë„(popularity)ì²˜ëŸ¼ êµ¬ê°„ ê¸°ë°˜ ì¡°ê±´ì´ ìì£¼ ì‚¬ìš©ë˜ëŠ” ì»¬ëŸ¼ì˜ ê²½ìš°:**

ğŸ‘‰ `RANGE íŒŒí‹°ì…”ë‹ë§Œ ì ìš©`í•˜ëŠ” ê²ƒì´  
â†’ **CPU ìì› ì†Œëª¨ë„ ì ê³  ì „ì²´ ì‹¤í–‰ ì‹œê°„ë„ ê°€ì¥ íš¨ìœ¨ì **

---

# ğŸ§¨ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… (Troubleshooting)

ë°ì´í„° ìˆ˜ì§‘ â†’ í…Œì´ë¸” ì„¤ê³„ â†’ íŒŒí‹°ì…”ë‹ê¹Œì§€ ì§„í–‰í•˜ëŠ” ê³¼ì •ì—ì„œ ë°œìƒí•œ ì£¼ìš” ì´ìŠˆë“¤ê³¼  
ê·¸ì— ëŒ€í•œ í•´ê²° ê³¼ì •ì„ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.



## ğŸ“¥ Import ê³¼ì •

### (1) CSV ì»¬ëŸ¼ íƒ€ì…/í¬ê¸° ë¯¸ì •

- **TROUBLE**  
  CSV ë°ì´í„°ì˜ ê° í•„ë“œ ê¸¸ì´ë¥¼ ì•Œ ìˆ˜ ì—†ì–´ `VARCHAR` í¬ê¸° ì„¤ì •ì— ì–´ë ¤ì›€ ë°œìƒ

- **SOLUTION**  
  ChatGPTì— CSV íŒŒì¼ì„ ì „ë‹¬í•´ ê° ì»¬ëŸ¼ì˜ **ìµœëŒ€ ë¬¸ìì—´ ê¸¸ì´**ë¥¼ ì¶”ì¶œí•œ í›„,  
  ê·¸ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì ì ˆí•œ `VARCHAR(n)` í¬ê¸°ë¡œ ì„¤ê³„


### (2) ì˜ˆì•½ì–´ ì»¬ëŸ¼ëª… ì¶©ëŒ

- **TROUBLE**  
  `INDEX`, `KEY`, `MODE`ëŠ” SQL ì˜ˆì•½ì–´ì´ë¯€ë¡œ ì»¬ëŸ¼ëª…ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ìŒ â†’ ì˜¤ë¥˜ ë°œìƒ

- **SOLUTION**  
  CSV í•„ë“œëª…ì„ ë‹¤ìŒê³¼ ê°™ì´ ë¦¬ë„¤ì´ë° í›„ í…Œì´ë¸” ë° CSV ëª¨ë‘ ì¼ì¹˜ì‹œí‚´

| ì›ë˜ í•„ë“œëª… | ë³€ê²½ ì»¬ëŸ¼ëª… |
|-------------|-------------|
| index       | id          |
| key         | key_col     |
| mode        | mode_col    |


## ğŸ§© íŒŒí‹°ì…”ë‹ ê³¼ì •

### (1) HASH íŒŒí‹°ì…”ë‹ ì‹¤íŒ¨

- **TROUBLE**  
  `track_id`(VARCHAR)ë¥¼ ì„œë¸ŒíŒŒí‹°ì…˜ í‚¤ë¡œ ì‚¬ìš©í•˜ë ¤ê³  í–ˆì„ ë•Œ ì˜¤ë¥˜ ë°œìƒ  
  > `SQL Error [1491] [HY000]: The SUBPARTITION function returns the wrong type`

- **ì›ì¸**  
  `HASH íŒŒí‹°ì…”ë‹`ì€ **ì •ìˆ˜í˜• ì»¬ëŸ¼(INT)** ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ

- **SOLUTION**  
  `track_id` ëŒ€ì‹  `id(INT)` ì»¬ëŸ¼ì„ ì„œë¸ŒíŒŒí‹°ì…˜ í‚¤ë¡œ ì‚¬ìš©



### (2) LIST íŒŒí‹°ì…”ë‹ insert ì˜¤ë¥˜

- **TROUBLE**  
  `track_genre` ê¸°ì¤€ìœ¼ë¡œ LIST íŒŒí‹°ì…˜ì„ ë§Œë“¤ê³  insert ì‹œ ì•„ë˜ì™€ ê°™ì€ ì˜¤ë¥˜ ë°œìƒ  
  > `SQL Error [1526] [HY000]: Table has no partition for value from column_list`

- **ì›ì¸**  
  INSERTí•˜ë ¤ëŠ” `track_genre` ê°’ì´ íŒŒí‹°ì…˜ ì •ì˜ì— í¬í•¨ë˜ì§€ ì•Šì•˜ê±°ë‚˜,  
  ëŒ€/ì†Œë¬¸ì, ê³µë°±, í•˜ì´í”ˆ ë“±ì˜ ì°¨ì´ë¡œ ì¸í•´ **ì •ì˜ëœ ê°’ê³¼ ë¶ˆì¼ì¹˜**

- **SOLUTION**  
  INSERT ì „ `track_genre` ê°’ì„ **ì†Œë¬¸ìí™” + ê³µë°± ì œê±° + íŒŒí‹°ì…˜ ì¡°ê±´ê³¼ ì¼ì¹˜í•˜ë„ë¡ ì „ì²˜ë¦¬**

<details>
<summary><strong>âœ… INSERT ì „ ì •ì œ ì¿¼ë¦¬ (í´ë¦­í•´ì„œ ì—´ê¸°)</strong></summary>

```sql
SELECT
  id, track_id, artists, album_name, track_name, popularity,
  duration_ms, explicit, danceability, energy, key_col, loudness,
  mode_col, speechiness, acousticness, instrumentalness, liveness,
  valence, tempo, time_signature,
  LOWER(TRIM(track_genre)) AS track_genre
FROM spotify
WHERE track_genre IS NOT NULL
  AND TRIM(track_genre) != ''
  AND LOWER(TRIM(track_genre)) IN (
    'pop', 'power-pop', 'rock', 'edm', 'hip-hop', 'jazz', 'metal',
    'latin', 'ambient', 'children', 'folk', 'punk', 'trance', ...
  );
</details>


---

## ğŸª íšŒê³  ë° ë””ë²¨ë¡­ ë°©í–¥

- ì„±ëŠ¥ ê°œì„  ì²´ê° ë° ì‹¤ë¬´ì  í™•ì¥ ê°€ëŠ¥ì„±
- ë‚¨ì€ ì•„ì‰¬ìš´ ì  (ì˜ˆ: ì„œë¸ŒíŒŒí‹°ì…˜ í”„ë£¨ë‹ í•œê³„, ì¡°ê±´ ìµœì í™” ë“±)
- í–¥í›„ ë°œì „ ë°©í–¥ (â†’ ë‚ ì§œ ê¸°ì¤€ íŒŒí‹°ì…˜, ë¡œê·¸ì„± ë°ì´í„° ì ìš© ë“±)

---




